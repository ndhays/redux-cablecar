{"version":3,"sources":["webpack://cablecar/webpack/bootstrap","webpack://cablecar/./node_modules/symbol-observable/es/index.js","webpack://cablecar/./node_modules/actioncable/lib/assets/compiled/action_cable.js","webpack://cablecar/./node_modules/symbol-observable/es/ponyfill.js","webpack://cablecar/(webpack)/buildin/global.js","webpack://cablecar/(webpack)/buildin/harmony-module.js","webpack://cablecar/./src/cableCarDispatcher.ts","webpack://cablecar/./src/cableCarRoute.ts","webpack://cablecar/./node_modules/immer/dist/immer.esm.js","webpack://cablecar/./node_modules/redux/es/redux.js","webpack://cablecar/./node_modules/reselect/es/index.js","webpack://cablecar/./node_modules/redux-thunk/es/index.js","webpack://cablecar/./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js","webpack://cablecar/./src/helpers.ts","webpack://cablecar/./src/cableCar.ts","webpack://cablecar/./src/middleware.ts","webpack://cablecar/./src/api.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","root","self","window","global","result","slice","this","ActionCable","INTERNAL","WebSocket","logger","console","createConsumer","url","ref","getConfig","default_mount_path","Consumer","createWebSocketURL","element","document","head","querySelector","getAttribute","a","test","createElement","href","protocol","replace","startDebugging","debugging","stopDebugging","log","messages","arguments","length","push","Date","now","apply","concat","ConnectionMonitor","clamp","secondsSince","connection","fn","me","visibilityDidChange","reconnectAttempts","pollInterval","min","max","staleThreshold","start","isRunning","startedAt","stoppedAt","startPolling","addEventListener","getPollInterval","stop","stopPolling","removeEventListener","recordPing","pingedAt","recordConnect","disconnectedAt","recordDisconnect","poll","clearTimeout","pollTimeout","setTimeout","_this","reconnectIfStale","interval","constructor","Math","round","connectionIsStale","disconnectedRecently","reopen","visibilityState","isOpen","getTime","time","number","message_types","protocols","supportedProtocols","indexOf","item","Connection","consumer","open","subscriptions","monitor","disconnected","reopenDelay","send","data","webSocket","JSON","stringify","isActive","getState","uninstallEventHandlers","installEventHandlers","close","arg","ref1","allowReconnect","error","error1","getProtocol","isState","isProtocolSupported","states","state","readyState","toLowerCase","eventName","handler","events","message","event","identifier","parse","type","welcome","reload","ping","confirmation","notify","rejection","reject","notifyAll","willAttemptReconnect","Subscriptions","channelName","mixin","channel","params","subscription","Subscription","add","ensureActiveConnection","sendCommand","remove","forget","findAll","len","results","args","callbackName","command","extend","perform","action","unsubscribe","properties","connect","disconnect","symbolObservablePonyfill","observable","g","Function","e","originalModule","webpackPolyfill","children","CableCarDispatcher","route","webSocketURL","consumers","provider","CableCarRoute","options","actionCableProvider","car","cars","idx","splice","Array","Error","map","join","Q","getPrototypeOf","isArray","L","v","keys","Z","forEach","u","has","f","set","delete","X","Map","q","Set","tt","writable","configurable","y","clear","h","freeze","isFrozen","b","nt","_","U","j","w","S","O","P","M","x","H","A","I","k","R","D","N","z","getOwnPropertyDescriptor","E","T","F","C","rt","et","Proxy","revocable","revoke","proxy","J","K","from","G","W","B","Reflect","for","iterator","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","getOwnPropertyDescriptors","deleteProperty","setPrototypeOf","ot","useProxies","setUseProxies","autoFreeze","setAutoFreeze","produce","produceWithPatches","Promise","then","createDraft","finishDraft","applyPatches","path","op","$","randomString","random","toString","substring","split","compose","_len","funcs","_key","reduce","defaultEqualityCheck","areArgumentsShallowlyEqual","equalityCheck","prev","next","getDependencies","dependencies","every","dep","dependencyTypes","memoize","memoizeOptions","createSelectorCreator","func","undefined","lastArgs","lastResult","createThunkMiddleware","extraArgument","_ref","dispatch","withExtraArgument","_extends","assign","target","source","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","createAction","prepareAction","actionCreator","prepared","payload","meta","match","asyncIterator","matchPrefix","str1","str2","String","getPermittedActionsFn","opt","some","val","RegExp","TypeError","CableCar","store","destroyCallback","init","_destroyCallback","_options","opts","permittedActions","_permittedActionFn","silent","matchChannel","initialized","connected","received","rejected","active","method","isReady","permitted","createGenericAction","actionType","rest","formattedAction","err","createMiddleware","relevantCars","filter","permitsAction","serverOnlyAction","oneWay","isOptimistic","isOptimisticOnFail","dispatcher","createCableCarRoute","routeOptions","consumerFor","removeCar","addCar","publicCableCar","allCars","reset","destroy","pause","resume"],"mappings":"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","file":"redux-cablecar.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","/* global window */\nimport ponyfill from './ponyfill.js';\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = ponyfill(root);\nexport default result;\n","(function() {\n  var context = this;\n\n  (function() {\n    (function() {\n      var slice = [].slice;\n\n      this.ActionCable = {\n        INTERNAL: {\n          \"message_types\": {\n            \"welcome\": \"welcome\",\n            \"ping\": \"ping\",\n            \"confirmation\": \"confirm_subscription\",\n            \"rejection\": \"reject_subscription\"\n          },\n          \"default_mount_path\": \"/cable\",\n          \"protocols\": [\"actioncable-v1-json\", \"actioncable-unsupported\"]\n        },\n        WebSocket: window.WebSocket,\n        logger: window.console,\n        createConsumer: function(url) {\n          var ref;\n          if (url == null) {\n            url = (ref = this.getConfig(\"url\")) != null ? ref : this.INTERNAL.default_mount_path;\n          }\n          return new ActionCable.Consumer(this.createWebSocketURL(url));\n        },\n        getConfig: function(name) {\n          var element;\n          element = document.head.querySelector(\"meta[name='action-cable-\" + name + \"']\");\n          return element != null ? element.getAttribute(\"content\") : void 0;\n        },\n        createWebSocketURL: function(url) {\n          var a;\n          if (url && !/^wss?:/i.test(url)) {\n            a = document.createElement(\"a\");\n            a.href = url;\n            a.href = a.href;\n            a.protocol = a.protocol.replace(\"http\", \"ws\");\n            return a.href;\n          } else {\n            return url;\n          }\n        },\n        startDebugging: function() {\n          return this.debugging = true;\n        },\n        stopDebugging: function() {\n          return this.debugging = null;\n        },\n        log: function() {\n          var messages, ref;\n          messages = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n          if (this.debugging) {\n            messages.push(Date.now());\n            return (ref = this.logger).log.apply(ref, [\"[ActionCable]\"].concat(slice.call(messages)));\n          }\n        }\n      };\n\n    }).call(this);\n  }).call(context);\n\n  var ActionCable = context.ActionCable;\n\n  (function() {\n    (function() {\n      var bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };\n\n      ActionCable.ConnectionMonitor = (function() {\n        var clamp, now, secondsSince;\n\n        ConnectionMonitor.pollInterval = {\n          min: 3,\n          max: 30\n        };\n\n        ConnectionMonitor.staleThreshold = 6;\n\n        function ConnectionMonitor(connection) {\n          this.connection = connection;\n          this.visibilityDidChange = bind(this.visibilityDidChange, this);\n          this.reconnectAttempts = 0;\n        }\n\n        ConnectionMonitor.prototype.start = function() {\n          if (!this.isRunning()) {\n            this.startedAt = now();\n            delete this.stoppedAt;\n            this.startPolling();\n            document.addEventListener(\"visibilitychange\", this.visibilityDidChange);\n            return ActionCable.log(\"ConnectionMonitor started. pollInterval = \" + (this.getPollInterval()) + \" ms\");\n          }\n        };\n\n        ConnectionMonitor.prototype.stop = function() {\n          if (this.isRunning()) {\n            this.stoppedAt = now();\n            this.stopPolling();\n            document.removeEventListener(\"visibilitychange\", this.visibilityDidChange);\n            return ActionCable.log(\"ConnectionMonitor stopped\");\n          }\n        };\n\n        ConnectionMonitor.prototype.isRunning = function() {\n          return (this.startedAt != null) && (this.stoppedAt == null);\n        };\n\n        ConnectionMonitor.prototype.recordPing = function() {\n          return this.pingedAt = now();\n        };\n\n        ConnectionMonitor.prototype.recordConnect = function() {\n          this.reconnectAttempts = 0;\n          this.recordPing();\n          delete this.disconnectedAt;\n          return ActionCable.log(\"ConnectionMonitor recorded connect\");\n        };\n\n        ConnectionMonitor.prototype.recordDisconnect = function() {\n          this.disconnectedAt = now();\n          return ActionCable.log(\"ConnectionMonitor recorded disconnect\");\n        };\n\n        ConnectionMonitor.prototype.startPolling = function() {\n          this.stopPolling();\n          return this.poll();\n        };\n\n        ConnectionMonitor.prototype.stopPolling = function() {\n          return clearTimeout(this.pollTimeout);\n        };\n\n        ConnectionMonitor.prototype.poll = function() {\n          return this.pollTimeout = setTimeout((function(_this) {\n            return function() {\n              _this.reconnectIfStale();\n              return _this.poll();\n            };\n          })(this), this.getPollInterval());\n        };\n\n        ConnectionMonitor.prototype.getPollInterval = function() {\n          var interval, max, min, ref;\n          ref = this.constructor.pollInterval, min = ref.min, max = ref.max;\n          interval = 5 * Math.log(this.reconnectAttempts + 1);\n          return Math.round(clamp(interval, min, max) * 1000);\n        };\n\n        ConnectionMonitor.prototype.reconnectIfStale = function() {\n          if (this.connectionIsStale()) {\n            ActionCable.log(\"ConnectionMonitor detected stale connection. reconnectAttempts = \" + this.reconnectAttempts + \", pollInterval = \" + (this.getPollInterval()) + \" ms, time disconnected = \" + (secondsSince(this.disconnectedAt)) + \" s, stale threshold = \" + this.constructor.staleThreshold + \" s\");\n            this.reconnectAttempts++;\n            if (this.disconnectedRecently()) {\n              return ActionCable.log(\"ConnectionMonitor skipping reopening recent disconnect\");\n            } else {\n              ActionCable.log(\"ConnectionMonitor reopening\");\n              return this.connection.reopen();\n            }\n          }\n        };\n\n        ConnectionMonitor.prototype.connectionIsStale = function() {\n          var ref;\n          return secondsSince((ref = this.pingedAt) != null ? ref : this.startedAt) > this.constructor.staleThreshold;\n        };\n\n        ConnectionMonitor.prototype.disconnectedRecently = function() {\n          return this.disconnectedAt && secondsSince(this.disconnectedAt) < this.constructor.staleThreshold;\n        };\n\n        ConnectionMonitor.prototype.visibilityDidChange = function() {\n          if (document.visibilityState === \"visible\") {\n            return setTimeout((function(_this) {\n              return function() {\n                if (_this.connectionIsStale() || !_this.connection.isOpen()) {\n                  ActionCable.log(\"ConnectionMonitor reopening stale connection on visibilitychange. visbilityState = \" + document.visibilityState);\n                  return _this.connection.reopen();\n                }\n              };\n            })(this), 200);\n          }\n        };\n\n        now = function() {\n          return new Date().getTime();\n        };\n\n        secondsSince = function(time) {\n          return (now() - time) / 1000;\n        };\n\n        clamp = function(number, min, max) {\n          return Math.max(min, Math.min(max, number));\n        };\n\n        return ConnectionMonitor;\n\n      })();\n\n    }).call(this);\n    (function() {\n      var i, message_types, protocols, ref, supportedProtocols, unsupportedProtocol,\n        slice = [].slice,\n        bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n        indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\n      ref = ActionCable.INTERNAL, message_types = ref.message_types, protocols = ref.protocols;\n\n      supportedProtocols = 2 <= protocols.length ? slice.call(protocols, 0, i = protocols.length - 1) : (i = 0, []), unsupportedProtocol = protocols[i++];\n\n      ActionCable.Connection = (function() {\n        Connection.reopenDelay = 500;\n\n        function Connection(consumer) {\n          this.consumer = consumer;\n          this.open = bind(this.open, this);\n          this.subscriptions = this.consumer.subscriptions;\n          this.monitor = new ActionCable.ConnectionMonitor(this);\n          this.disconnected = true;\n        }\n\n        Connection.prototype.send = function(data) {\n          if (this.isOpen()) {\n            this.webSocket.send(JSON.stringify(data));\n            return true;\n          } else {\n            return false;\n          }\n        };\n\n        Connection.prototype.open = function() {\n          if (this.isActive()) {\n            ActionCable.log(\"Attempted to open WebSocket, but existing socket is \" + (this.getState()));\n            return false;\n          } else {\n            ActionCable.log(\"Opening WebSocket, current state is \" + (this.getState()) + \", subprotocols: \" + protocols);\n            if (this.webSocket != null) {\n              this.uninstallEventHandlers();\n            }\n            this.webSocket = new ActionCable.WebSocket(this.consumer.url, protocols);\n            this.installEventHandlers();\n            this.monitor.start();\n            return true;\n          }\n        };\n\n        Connection.prototype.close = function(arg) {\n          var allowReconnect, ref1;\n          allowReconnect = (arg != null ? arg : {\n            allowReconnect: true\n          }).allowReconnect;\n          if (!allowReconnect) {\n            this.monitor.stop();\n          }\n          if (this.isActive()) {\n            return (ref1 = this.webSocket) != null ? ref1.close() : void 0;\n          }\n        };\n\n        Connection.prototype.reopen = function() {\n          var error;\n          ActionCable.log(\"Reopening WebSocket, current state is \" + (this.getState()));\n          if (this.isActive()) {\n            try {\n              return this.close();\n            } catch (error1) {\n              error = error1;\n              return ActionCable.log(\"Failed to reopen WebSocket\", error);\n            } finally {\n              ActionCable.log(\"Reopening WebSocket in \" + this.constructor.reopenDelay + \"ms\");\n              setTimeout(this.open, this.constructor.reopenDelay);\n            }\n          } else {\n            return this.open();\n          }\n        };\n\n        Connection.prototype.getProtocol = function() {\n          var ref1;\n          return (ref1 = this.webSocket) != null ? ref1.protocol : void 0;\n        };\n\n        Connection.prototype.isOpen = function() {\n          return this.isState(\"open\");\n        };\n\n        Connection.prototype.isActive = function() {\n          return this.isState(\"open\", \"connecting\");\n        };\n\n        Connection.prototype.isProtocolSupported = function() {\n          var ref1;\n          return ref1 = this.getProtocol(), indexOf.call(supportedProtocols, ref1) >= 0;\n        };\n\n        Connection.prototype.isState = function() {\n          var ref1, states;\n          states = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n          return ref1 = this.getState(), indexOf.call(states, ref1) >= 0;\n        };\n\n        Connection.prototype.getState = function() {\n          var ref1, state, value;\n          for (state in WebSocket) {\n            value = WebSocket[state];\n            if (value === ((ref1 = this.webSocket) != null ? ref1.readyState : void 0)) {\n              return state.toLowerCase();\n            }\n          }\n          return null;\n        };\n\n        Connection.prototype.installEventHandlers = function() {\n          var eventName, handler;\n          for (eventName in this.events) {\n            handler = this.events[eventName].bind(this);\n            this.webSocket[\"on\" + eventName] = handler;\n          }\n        };\n\n        Connection.prototype.uninstallEventHandlers = function() {\n          var eventName;\n          for (eventName in this.events) {\n            this.webSocket[\"on\" + eventName] = function() {};\n          }\n        };\n\n        Connection.prototype.events = {\n          message: function(event) {\n            var identifier, message, ref1, type;\n            if (!this.isProtocolSupported()) {\n              return;\n            }\n            ref1 = JSON.parse(event.data), identifier = ref1.identifier, message = ref1.message, type = ref1.type;\n            switch (type) {\n              case message_types.welcome:\n                this.monitor.recordConnect();\n                return this.subscriptions.reload();\n              case message_types.ping:\n                return this.monitor.recordPing();\n              case message_types.confirmation:\n                return this.subscriptions.notify(identifier, \"connected\");\n              case message_types.rejection:\n                return this.subscriptions.reject(identifier);\n              default:\n                return this.subscriptions.notify(identifier, \"received\", message);\n            }\n          },\n          open: function() {\n            ActionCable.log(\"WebSocket onopen event, using '\" + (this.getProtocol()) + \"' subprotocol\");\n            this.disconnected = false;\n            if (!this.isProtocolSupported()) {\n              ActionCable.log(\"Protocol is unsupported. Stopping monitor and disconnecting.\");\n              return this.close({\n                allowReconnect: false\n              });\n            }\n          },\n          close: function(event) {\n            ActionCable.log(\"WebSocket onclose event\");\n            if (this.disconnected) {\n              return;\n            }\n            this.disconnected = true;\n            this.monitor.recordDisconnect();\n            return this.subscriptions.notifyAll(\"disconnected\", {\n              willAttemptReconnect: this.monitor.isRunning()\n            });\n          },\n          error: function() {\n            return ActionCable.log(\"WebSocket onerror event\");\n          }\n        };\n\n        return Connection;\n\n      })();\n\n    }).call(this);\n    (function() {\n      var slice = [].slice;\n\n      ActionCable.Subscriptions = (function() {\n        function Subscriptions(consumer) {\n          this.consumer = consumer;\n          this.subscriptions = [];\n        }\n\n        Subscriptions.prototype.create = function(channelName, mixin) {\n          var channel, params, subscription;\n          channel = channelName;\n          params = typeof channel === \"object\" ? channel : {\n            channel: channel\n          };\n          subscription = new ActionCable.Subscription(this.consumer, params, mixin);\n          return this.add(subscription);\n        };\n\n        Subscriptions.prototype.add = function(subscription) {\n          this.subscriptions.push(subscription);\n          this.consumer.ensureActiveConnection();\n          this.notify(subscription, \"initialized\");\n          this.sendCommand(subscription, \"subscribe\");\n          return subscription;\n        };\n\n        Subscriptions.prototype.remove = function(subscription) {\n          this.forget(subscription);\n          if (!this.findAll(subscription.identifier).length) {\n            this.sendCommand(subscription, \"unsubscribe\");\n          }\n          return subscription;\n        };\n\n        Subscriptions.prototype.reject = function(identifier) {\n          var i, len, ref, results, subscription;\n          ref = this.findAll(identifier);\n          results = [];\n          for (i = 0, len = ref.length; i < len; i++) {\n            subscription = ref[i];\n            this.forget(subscription);\n            this.notify(subscription, \"rejected\");\n            results.push(subscription);\n          }\n          return results;\n        };\n\n        Subscriptions.prototype.forget = function(subscription) {\n          var s;\n          this.subscriptions = (function() {\n            var i, len, ref, results;\n            ref = this.subscriptions;\n            results = [];\n            for (i = 0, len = ref.length; i < len; i++) {\n              s = ref[i];\n              if (s !== subscription) {\n                results.push(s);\n              }\n            }\n            return results;\n          }).call(this);\n          return subscription;\n        };\n\n        Subscriptions.prototype.findAll = function(identifier) {\n          var i, len, ref, results, s;\n          ref = this.subscriptions;\n          results = [];\n          for (i = 0, len = ref.length; i < len; i++) {\n            s = ref[i];\n            if (s.identifier === identifier) {\n              results.push(s);\n            }\n          }\n          return results;\n        };\n\n        Subscriptions.prototype.reload = function() {\n          var i, len, ref, results, subscription;\n          ref = this.subscriptions;\n          results = [];\n          for (i = 0, len = ref.length; i < len; i++) {\n            subscription = ref[i];\n            results.push(this.sendCommand(subscription, \"subscribe\"));\n          }\n          return results;\n        };\n\n        Subscriptions.prototype.notifyAll = function() {\n          var args, callbackName, i, len, ref, results, subscription;\n          callbackName = arguments[0], args = 2 <= arguments.length ? slice.call(arguments, 1) : [];\n          ref = this.subscriptions;\n          results = [];\n          for (i = 0, len = ref.length; i < len; i++) {\n            subscription = ref[i];\n            results.push(this.notify.apply(this, [subscription, callbackName].concat(slice.call(args))));\n          }\n          return results;\n        };\n\n        Subscriptions.prototype.notify = function() {\n          var args, callbackName, i, len, results, subscription, subscriptions;\n          subscription = arguments[0], callbackName = arguments[1], args = 3 <= arguments.length ? slice.call(arguments, 2) : [];\n          if (typeof subscription === \"string\") {\n            subscriptions = this.findAll(subscription);\n          } else {\n            subscriptions = [subscription];\n          }\n          results = [];\n          for (i = 0, len = subscriptions.length; i < len; i++) {\n            subscription = subscriptions[i];\n            results.push(typeof subscription[callbackName] === \"function\" ? subscription[callbackName].apply(subscription, args) : void 0);\n          }\n          return results;\n        };\n\n        Subscriptions.prototype.sendCommand = function(subscription, command) {\n          var identifier;\n          identifier = subscription.identifier;\n          return this.consumer.send({\n            command: command,\n            identifier: identifier\n          });\n        };\n\n        return Subscriptions;\n\n      })();\n\n    }).call(this);\n    (function() {\n      ActionCable.Subscription = (function() {\n        var extend;\n\n        function Subscription(consumer, params, mixin) {\n          this.consumer = consumer;\n          if (params == null) {\n            params = {};\n          }\n          this.identifier = JSON.stringify(params);\n          extend(this, mixin);\n        }\n\n        Subscription.prototype.perform = function(action, data) {\n          if (data == null) {\n            data = {};\n          }\n          data.action = action;\n          return this.send(data);\n        };\n\n        Subscription.prototype.send = function(data) {\n          return this.consumer.send({\n            command: \"message\",\n            identifier: this.identifier,\n            data: JSON.stringify(data)\n          });\n        };\n\n        Subscription.prototype.unsubscribe = function() {\n          return this.consumer.subscriptions.remove(this);\n        };\n\n        extend = function(object, properties) {\n          var key, value;\n          if (properties != null) {\n            for (key in properties) {\n              value = properties[key];\n              object[key] = value;\n            }\n          }\n          return object;\n        };\n\n        return Subscription;\n\n      })();\n\n    }).call(this);\n    (function() {\n      ActionCable.Consumer = (function() {\n        function Consumer(url) {\n          this.url = url;\n          this.subscriptions = new ActionCable.Subscriptions(this);\n          this.connection = new ActionCable.Connection(this);\n        }\n\n        Consumer.prototype.send = function(data) {\n          return this.connection.send(data);\n        };\n\n        Consumer.prototype.connect = function() {\n          return this.connection.open();\n        };\n\n        Consumer.prototype.disconnect = function() {\n          return this.connection.close({\n            allowReconnect: false\n          });\n        };\n\n        Consumer.prototype.ensureActiveConnection = function() {\n          if (!this.connection.isActive()) {\n            return this.connection.open();\n          }\n        };\n\n        return Consumer;\n\n      })();\n\n    }).call(this);\n  }).call(this);\n\n  if (typeof module === \"object\" && module.exports) {\n    module.exports = ActionCable;\n  } else if (typeof define === \"function\" && define.amd) {\n    define(ActionCable);\n  }\n}).call(this);\n","export default function symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import CableCarRoute from './cableCarRoute'\n\n/* CableCarDispatcher Class */\nexport default class CableCarDispatcher {\n    consumers: { [wsUrl: string]: any } = {}\n\n    consumerFor(route: CableCarRoute) {\n        const key = route.webSocketURL || 'default'\n        if (!this.consumers[key]) {\n            const consumer = route.provider.createConsumer(route.webSocketURL)\n            this.consumers[key] = consumer\n        }\n        return this.consumers[key]\n    }\n}\n","import actionCableProvider from 'actioncable'\nimport CableCar from './cableCar'\n\nexport interface CableCarRouteOptions {\n    provider?: any\n    webSocketURL?: string | null\n}\n\n/* CableCarRoute Class */\nexport default class CableCarRoute {\n    cars: CableCar[] = []\n    provider: any\n    webSocketURL: string | null = null\n\n    constructor(options: CableCarRouteOptions = {}) {\n        this.webSocketURL = options.webSocketURL || null\n        this.provider = options.provider || actionCableProvider\n    }\n\n    addCar(car: CableCar) {\n        this.cars.push(car)\n    }\n\n    removeCar(car: CableCar) {\n        const idx = this.cars.indexOf(car)\n        if (idx > -1) this.cars.splice(idx, 1)\n    }\n}\n","function t(t){for(var n=arguments.length,r=Array(n>1?n-1:0),e=1;e<n;e++)r[e-1]=arguments[e];if(\"production\"!==process.env.NODE_ENV){var i=Y[t],o=i?\"function\"==typeof i?i.apply(null,r):i:\"unknown error nr: \"+t;throw Error(\"[Immer] \"+o)}throw Error(\"[Immer] minified error nr: \"+t+(r.length?\" \"+r.map((function(t){return\"'\"+t+\"'\"})).join(\",\"):\"\")+\". Find the full error at: https://bit.ly/3cXEKWf\")}function n(t){return!!t&&!!t[Q]}function r(t){return!!t&&(function(t){if(!t||\"object\"!=typeof t)return!1;var n=Object.getPrototypeOf(t);return!n||n===Object.prototype}(t)||Array.isArray(t)||!!t[L]||!!t.constructor[L]||s(t)||v(t))}function e(r){return n(r)||t(23,r),r[Q].t}function i(t,n,r){void 0===r&&(r=!1),0===o(t)?(r?Object.keys:Z)(t).forEach((function(e){r&&\"symbol\"==typeof e||n(e,t[e],t)})):t.forEach((function(r,e){return n(e,r,t)}))}function o(t){var n=t[Q];return n?n.i>3?n.i-4:n.i:Array.isArray(t)?1:s(t)?2:v(t)?3:0}function u(t,n){return 2===o(t)?t.has(n):Object.prototype.hasOwnProperty.call(t,n)}function a(t,n){return 2===o(t)?t.get(n):t[n]}function f(t,n,r){var e=o(t);2===e?t.set(n,r):3===e?(t.delete(n),t.add(r)):t[n]=r}function c(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n}function s(t){return X&&t instanceof Map}function v(t){return q&&t instanceof Set}function p(t){return t.o||t.t}function l(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var n=tt(t);delete n[Q];for(var r=Z(n),e=0;e<r.length;e++){var i=r[e],o=n[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),n)}function d(t,e){return void 0===e&&(e=!1),y(t)||n(t)||!r(t)?t:(o(t)>1&&(t.set=t.add=t.clear=t.delete=h),Object.freeze(t),e&&i(t,(function(t,n){return d(n,!0)}),!0),t)}function h(){t(2)}function y(t){return null==t||\"object\"!=typeof t||Object.isFrozen(t)}function b(n){var r=nt[n];return r||t(18,n),r}function m(t,n){nt[t]||(nt[t]=n)}function _(){return\"production\"===process.env.NODE_ENV||U||t(0),U}function j(t,n){n&&(b(\"Patches\"),t.u=[],t.s=[],t.v=n)}function g(t){w(t),t.p.forEach(S),t.p=null}function w(t){t===U&&(U=t.l)}function O(t){return U={p:[],l:U,h:t,m:!0,_:0}}function S(t){var n=t[Q];0===n.i||1===n.i?n.j():n.g=!0}function P(n,e){e._=e.p.length;var i=e.p[0],o=void 0!==n&&n!==i;return e.h.O||b(\"ES5\").S(e,n,o),o?(i[Q].P&&(g(e),t(4)),r(n)&&(n=M(e,n),e.l||x(e,n)),e.u&&b(\"Patches\").M(i[Q],n,e.u,e.s)):n=M(e,i,[]),g(e),e.u&&e.v(e.u,e.s),n!==H?n:void 0}function M(t,n,r){if(y(n))return n;var e=n[Q];if(!e)return i(n,(function(i,o){return A(t,e,n,i,o,r)}),!0),n;if(e.A!==t)return n;if(!e.P)return x(t,e.t,!0),e.t;if(!e.I){e.I=!0,e.A._--;var o=4===e.i||5===e.i?e.o=l(e.k):e.o;i(3===e.i?new Set(o):o,(function(n,i){return A(t,e,o,n,i,r)})),x(t,o,!1),r&&t.u&&b(\"Patches\").R(e,r,t.u,t.s)}return e.o}function A(e,i,o,a,c,s){if(\"production\"!==process.env.NODE_ENV&&c===o&&t(5),n(c)){var v=M(e,c,s&&i&&3!==i.i&&!u(i.D,a)?s.concat(a):void 0);if(f(o,a,v),!n(v))return;e.m=!1}if(r(c)&&!y(c)){if(!e.h.N&&e._<1)return;M(e,c),i&&i.A.l||x(e,c)}}function x(t,n,r){void 0===r&&(r=!1),t.h.N&&t.m&&d(n,r)}function z(t,n){var r=t[Q];return(r?p(r):t)[n]}function I(t,n){if(n in t)for(var r=Object.getPrototypeOf(t);r;){var e=Object.getOwnPropertyDescriptor(r,n);if(e)return e;r=Object.getPrototypeOf(r)}}function k(t){t.P||(t.P=!0,t.l&&k(t.l))}function E(t){t.o||(t.o=l(t.t))}function R(t,n,r){var e=s(n)?b(\"MapSet\").T(n,r):v(n)?b(\"MapSet\").F(n,r):t.O?function(t,n){var r=Array.isArray(t),e={i:r?1:0,A:n?n.A:_(),P:!1,I:!1,D:{},l:n,t:t,k:null,o:null,j:null,C:!1},i=e,o=rt;r&&(i=[e],o=et);var u=Proxy.revocable(i,o),a=u.revoke,f=u.proxy;return e.k=f,e.j=a,f}(n,r):b(\"ES5\").J(n,r);return(r?r.A:_()).p.push(e),e}function D(e){return n(e)||t(22,e),function t(n){if(!r(n))return n;var e,u=n[Q],c=o(n);if(u){if(!u.P&&(u.i<4||!b(\"ES5\").K(u)))return u.t;u.I=!0,e=N(n,c),u.I=!1}else e=N(n,c);return i(e,(function(n,r){u&&a(u.t,n)===r||f(e,n,t(r))})),3===c?new Set(e):e}(e)}function N(t,n){switch(n){case 2:return new Map(t);case 3:return Array.from(t)}return l(t)}function T(){function r(t,n){var r=s[t];return r?r.enumerable=n:s[t]=r={configurable:!0,enumerable:n,get:function(){var n=this[Q];return\"production\"!==process.env.NODE_ENV&&f(n),rt.get(n,t)},set:function(n){var r=this[Q];\"production\"!==process.env.NODE_ENV&&f(r),rt.set(r,t,n)}},r}function e(t){for(var n=t.length-1;n>=0;n--){var r=t[n][Q];if(!r.P)switch(r.i){case 5:a(r)&&k(r);break;case 4:o(r)&&k(r)}}}function o(t){for(var n=t.t,r=t.k,e=Z(r),i=e.length-1;i>=0;i--){var o=e[i];if(o!==Q){var a=n[o];if(void 0===a&&!u(n,o))return!0;var f=r[o],s=f&&f[Q];if(s?s.t!==a:!c(f,a))return!0}}var v=!!n[Q];return e.length!==Z(n).length+(v?0:1)}function a(t){var n=t.k;if(n.length!==t.t.length)return!0;var r=Object.getOwnPropertyDescriptor(n,n.length-1);return!(!r||r.get)}function f(n){n.g&&t(3,JSON.stringify(p(n)))}var s={};m(\"ES5\",{J:function(t,n){var e=Array.isArray(t),i=function(t,n){if(t){for(var e=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(e,\"\"+i,r(i,!0));return e}var o=tt(n);delete o[Q];for(var u=Z(o),a=0;a<u.length;a++){var f=u[a];o[f]=r(f,t||!!o[f].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(e,t),o={i:e?5:4,A:n?n.A:_(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,Q,{value:o,writable:!0}),i},S:function(t,r,o){o?n(r)&&r[Q].A===t&&e(t.p):(t.u&&function t(n){if(n&&\"object\"==typeof n){var r=n[Q];if(r){var e=r.t,o=r.k,f=r.D,c=r.i;if(4===c)i(o,(function(n){n!==Q&&(void 0!==e[n]||u(e,n)?f[n]||t(o[n]):(f[n]=!0,k(r)))})),i(e,(function(t){void 0!==o[t]||u(o,t)||(f[t]=!1,k(r))}));else if(5===c){if(a(r)&&(k(r),f.length=!0),o.length<e.length)for(var s=o.length;s<e.length;s++)f[s]=!1;else for(var v=e.length;v<o.length;v++)f[v]=!0;for(var p=Math.min(o.length,e.length),l=0;l<p;l++)void 0===f[l]&&t(o[l])}}}}(t.p[0]),e(t.p))},K:function(t){return 4===t.i?o(t):a(t)}})}function F(){function e(t){if(!r(t))return t;if(Array.isArray(t))return t.map(e);if(s(t))return new Map(Array.from(t.entries()).map((function(t){return[t[0],e(t[1])]})));if(v(t))return new Set(Array.from(t).map(e));var n=Object.create(Object.getPrototypeOf(t));for(var i in t)n[i]=e(t[i]);return n}function f(t){return n(t)?e(t):t}var c=\"add\";m(\"Patches\",{$:function(n,r){return r.forEach((function(r){for(var i=r.path,u=r.op,f=n,s=0;s<i.length-1;s++){var v=o(f),p=i[s];0!==v&&1!==v||\"__proto__\"!==p&&\"constructor\"!==p||t(24),\"function\"==typeof f&&\"prototype\"===p&&t(24),\"object\"!=typeof(f=a(f,p))&&t(15,i.join(\"/\"))}var l=o(f),d=e(r.value),h=i[i.length-1];switch(u){case\"replace\":switch(l){case 2:return f.set(h,d);case 3:t(16);default:return f[h]=d}case c:switch(l){case 1:return f.splice(h,0,d);case 2:return f.set(h,d);case 3:return f.add(d);default:return f[h]=d}case\"remove\":switch(l){case 1:return f.splice(h,1);case 2:return f.delete(h);case 3:return f.delete(r.value);default:return delete f[h]}default:t(17,u)}})),n},R:function(t,n,r,e){switch(t.i){case 0:case 4:case 2:return function(t,n,r,e){var o=t.t,s=t.o;i(t.D,(function(t,i){var v=a(o,t),p=a(s,t),l=i?u(o,t)?\"replace\":c:\"remove\";if(v!==p||\"replace\"!==l){var d=n.concat(t);r.push(\"remove\"===l?{op:l,path:d}:{op:l,path:d,value:p}),e.push(l===c?{op:\"remove\",path:d}:\"remove\"===l?{op:c,path:d,value:f(v)}:{op:\"replace\",path:d,value:f(v)})}}))}(t,n,r,e);case 5:case 1:return function(t,n,r,e){var i=t.t,o=t.D,u=t.o;if(u.length<i.length){var a=[u,i];i=a[0],u=a[1];var s=[e,r];r=s[0],e=s[1]}for(var v=0;v<i.length;v++)if(o[v]&&u[v]!==i[v]){var p=n.concat([v]);r.push({op:\"replace\",path:p,value:f(u[v])}),e.push({op:\"replace\",path:p,value:f(i[v])})}for(var l=i.length;l<u.length;l++){var d=n.concat([l]);r.push({op:c,path:d,value:f(u[l])})}i.length<u.length&&e.push({op:\"replace\",path:n.concat([\"length\"]),value:i.length})}(t,n,r,e);case 3:return function(t,n,r,e){var i=t.t,o=t.o,u=0;i.forEach((function(t){if(!o.has(t)){var i=n.concat([u]);r.push({op:\"remove\",path:i,value:t}),e.unshift({op:c,path:i,value:t})}u++})),u=0,o.forEach((function(t){if(!i.has(t)){var o=n.concat([u]);r.push({op:c,path:o,value:t}),e.unshift({op:\"remove\",path:o,value:t})}u++}))}(t,n,r,e)}},M:function(t,n,r,e){r.push({op:\"replace\",path:[],value:n}),e.push({op:\"replace\",path:[],value:t.t})}})}function C(){function n(t,n){function r(){this.constructor=t}a(t,n),t.prototype=(r.prototype=n.prototype,new r)}function e(t){t.o||(t.D=new Map,t.o=new Map(t.t))}function o(t){t.o||(t.o=new Set,t.t.forEach((function(n){if(r(n)){var e=R(t.A.h,n,t);t.p.set(n,e),t.o.add(e)}else t.o.add(n)})))}function u(n){n.g&&t(3,JSON.stringify(p(n)))}var a=function(t,n){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(t,n)},f=function(){function t(t,n){return this[Q]={i:2,l:n,A:n?n.A:_(),P:!1,I:!1,o:void 0,D:void 0,t:t,k:this,C:!1,g:!1},this}n(t,Map);var o=t.prototype;return Object.defineProperty(o,\"size\",{get:function(){return p(this[Q]).size}}),o.has=function(t){return p(this[Q]).has(t)},o.set=function(t,n){var r=this[Q];return u(r),p(r).has(t)&&p(r).get(t)===n||(e(r),k(r),r.D.set(t,!0),r.o.set(t,n),r.D.set(t,!0)),this},o.delete=function(t){if(!this.has(t))return!1;var n=this[Q];return u(n),e(n),k(n),n.D.set(t,!1),n.o.delete(t),!0},o.clear=function(){var t=this[Q];u(t),p(t).size&&(e(t),k(t),t.D=new Map,i(t.t,(function(n){t.D.set(n,!1)})),t.o.clear())},o.forEach=function(t,n){var r=this;p(this[Q]).forEach((function(e,i){t.call(n,r.get(i),i,r)}))},o.get=function(t){var n=this[Q];u(n);var i=p(n).get(t);if(n.I||!r(i))return i;if(i!==n.t.get(t))return i;var o=R(n.A.h,i,n);return e(n),n.o.set(t,o),o},o.keys=function(){return p(this[Q]).keys()},o.values=function(){var t,n=this,r=this.keys();return(t={})[V]=function(){return n.values()},t.next=function(){var t=r.next();return t.done?t:{done:!1,value:n.get(t.value)}},t},o.entries=function(){var t,n=this,r=this.keys();return(t={})[V]=function(){return n.entries()},t.next=function(){var t=r.next();if(t.done)return t;var e=n.get(t.value);return{done:!1,value:[t.value,e]}},t},o[V]=function(){return this.entries()},t}(),c=function(){function t(t,n){return this[Q]={i:3,l:n,A:n?n.A:_(),P:!1,I:!1,o:void 0,t:t,k:this,p:new Map,g:!1,C:!1},this}n(t,Set);var r=t.prototype;return Object.defineProperty(r,\"size\",{get:function(){return p(this[Q]).size}}),r.has=function(t){var n=this[Q];return u(n),n.o?!!n.o.has(t)||!(!n.p.has(t)||!n.o.has(n.p.get(t))):n.t.has(t)},r.add=function(t){var n=this[Q];return u(n),this.has(t)||(o(n),k(n),n.o.add(t)),this},r.delete=function(t){if(!this.has(t))return!1;var n=this[Q];return u(n),o(n),k(n),n.o.delete(t)||!!n.p.has(t)&&n.o.delete(n.p.get(t))},r.clear=function(){var t=this[Q];u(t),p(t).size&&(o(t),k(t),t.o.clear())},r.values=function(){var t=this[Q];return u(t),o(t),t.o.values()},r.entries=function(){var t=this[Q];return u(t),o(t),t.o.entries()},r.keys=function(){return this.values()},r[V]=function(){return this.values()},r.forEach=function(t,n){for(var r=this.values(),e=r.next();!e.done;)t.call(n,e.value,e.value,this),e=r.next()},t}();m(\"MapSet\",{T:function(t,n){return new f(t,n)},F:function(t,n){return new c(t,n)}})}function J(){T(),C(),F()}function K(t){return t}function $(t){return t}var G,U,W=\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol(\"x\"),X=\"undefined\"!=typeof Map,q=\"undefined\"!=typeof Set,B=\"undefined\"!=typeof Proxy&&void 0!==Proxy.revocable&&\"undefined\"!=typeof Reflect,H=W?Symbol.for(\"immer-nothing\"):((G={})[\"immer-nothing\"]=!0,G),L=W?Symbol.for(\"immer-draftable\"):\"__$immer_draftable\",Q=W?Symbol.for(\"immer-state\"):\"__$immer_state\",V=\"undefined\"!=typeof Symbol&&Symbol.iterator||\"@@iterator\",Y={0:\"Illegal state\",1:\"Immer drafts cannot have computed properties\",2:\"This object has been frozen and should not be mutated\",3:function(t){return\"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \"+t},4:\"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",5:\"Immer forbids circular references\",6:\"The first or second argument to `produce` must be a function\",7:\"The third argument to `produce` must be a function or undefined\",8:\"First argument to `createDraft` must be a plain object, an array, or an immerable object\",9:\"First argument to `finishDraft` must be a draft returned by `createDraft`\",10:\"The given draft is already finalized\",11:\"Object.defineProperty() cannot be used on an Immer draft\",12:\"Object.setPrototypeOf() cannot be used on an Immer draft\",13:\"Immer only supports deleting array indices\",14:\"Immer only supports setting array indices and the 'length' property\",15:function(t){return\"Cannot apply patch, path doesn't resolve: \"+t},16:'Sets cannot have \"replace\" patches.',17:function(t){return\"Unsupported patch operation: \"+t},18:function(t){return\"The plugin for '\"+t+\"' has not been loaded into Immer. To enable the plugin, import and call `enable\"+t+\"()` when initializing your application.\"},20:\"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available\",21:function(t){return\"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '\"+t+\"'\"},22:function(t){return\"'current' expects a draft, got: \"+t},23:function(t){return\"'original' expects a draft, got: \"+t},24:\"Patching reserved attributes like __proto__, prototype and constructor is not allowed\"},Z=\"undefined\"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,tt=Object.getOwnPropertyDescriptors||function(t){var n={};return Z(t).forEach((function(r){n[r]=Object.getOwnPropertyDescriptor(t,r)})),n},nt={},rt={get:function(t,n){if(n===Q)return t;var e=p(t);if(!u(e,n))return function(t,n,r){var e,i=I(n,r);return i?\"value\"in i?i.value:null===(e=i.get)||void 0===e?void 0:e.call(t.k):void 0}(t,e,n);var i=e[n];return t.I||!r(i)?i:i===z(t.t,n)?(E(t),t.o[n]=R(t.A.h,i,t)):i},has:function(t,n){return n in p(t)},ownKeys:function(t){return Reflect.ownKeys(p(t))},set:function(t,n,r){var e=I(p(t),n);if(null==e?void 0:e.set)return e.set.call(t.k,r),!0;if(!t.P){var i=z(p(t),n),o=null==i?void 0:i[Q];if(o&&o.t===r)return t.o[n]=r,t.D[n]=!1,!0;if(c(r,i)&&(void 0!==r||u(t.t,n)))return!0;E(t),k(t)}return t.o[n]=r,t.D[n]=!0,!0},deleteProperty:function(t,n){return void 0!==z(t.t,n)||n in t.t?(t.D[n]=!1,E(t),k(t)):delete t.D[n],t.o&&delete t.o[n],!0},getOwnPropertyDescriptor:function(t,n){var r=p(t),e=Reflect.getOwnPropertyDescriptor(r,n);return e?{writable:!0,configurable:1!==t.i||\"length\"!==n,enumerable:e.enumerable,value:r[n]}:e},defineProperty:function(){t(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){t(12)}},et={};i(rt,(function(t,n){et[t]=function(){return arguments[0]=arguments[0][0],n.apply(this,arguments)}})),et.deleteProperty=function(n,r){return\"production\"!==process.env.NODE_ENV&&isNaN(parseInt(r))&&t(13),rt.deleteProperty.call(this,n[0],r)},et.set=function(n,r,e){return\"production\"!==process.env.NODE_ENV&&\"length\"!==r&&isNaN(parseInt(r))&&t(14),rt.set.call(this,n[0],r,e,n[0])};var it=function(){function e(t){this.O=B,this.N=!0,\"boolean\"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),\"boolean\"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var i=e.prototype;return i.produce=function(n,e,i){if(\"function\"==typeof n&&\"function\"!=typeof e){var o=e;e=n;var u=this;return function(t){var n=this;void 0===t&&(t=o);for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return u.produce(t,(function(t){var r;return(r=e).call.apply(r,[n,t].concat(i))}))}}var a;if(\"function\"!=typeof e&&t(6),void 0!==i&&\"function\"!=typeof i&&t(7),r(n)){var f=O(this),c=R(this,n,void 0),s=!0;try{a=e(c),s=!1}finally{s?g(f):w(f)}return\"undefined\"!=typeof Promise&&a instanceof Promise?a.then((function(t){return j(f,i),P(t,f)}),(function(t){throw g(f),t})):(j(f,i),P(a,f))}if(!n||\"object\"!=typeof n){if((a=e(n))===H)return;return void 0===a&&(a=n),this.N&&d(a,!0),a}t(21,n)},i.produceWithPatches=function(t,n){var r,e,i=this;return\"function\"==typeof t?function(n){for(var r=arguments.length,e=Array(r>1?r-1:0),o=1;o<r;o++)e[o-1]=arguments[o];return i.produceWithPatches(n,(function(n){return t.apply(void 0,[n].concat(e))}))}:[this.produce(t,n,(function(t,n){r=t,e=n})),r,e]},i.createDraft=function(e){r(e)||t(8),n(e)&&(e=D(e));var i=O(this),o=R(this,e,void 0);return o[Q].C=!0,w(i),o},i.finishDraft=function(n,r){var e=n&&n[Q];\"production\"!==process.env.NODE_ENV&&(e&&e.C||t(9),e.I&&t(10));var i=e.A;return j(i,r),P(void 0,i)},i.setAutoFreeze=function(t){this.N=t},i.setUseProxies=function(n){n&&!B&&t(20),this.O=n},i.applyPatches=function(t,r){var e;for(e=r.length-1;e>=0;e--){var i=r[e];if(0===i.path.length&&\"replace\"===i.op){t=i.value;break}}var o=b(\"Patches\").$;return n(t)?o(t,r):this.produce(t,(function(t){return o(t,r.slice(e+1))}))},e}(),ot=new it,ut=ot.produce,at=ot.produceWithPatches.bind(ot),ft=ot.setAutoFreeze.bind(ot),ct=ot.setUseProxies.bind(ot),st=ot.applyPatches.bind(ot),vt=ot.createDraft.bind(ot),pt=ot.finishDraft.bind(ot);export default ut;export{it as Immer,st as applyPatches,K as castDraft,$ as castImmutable,vt as createDraft,D as current,J as enableAllPlugins,T as enableES5,C as enableMapSet,F as enablePatches,pt as finishDraft,d as freeze,L as immerable,n as isDraft,r as isDraftable,H as nothing,e as original,ut as produce,at as produceWithPatches,ft as setAutoFreeze,ct as setUseProxies};\n//# sourceMappingURL=immer.esm.js.map\n","import $$observable from 'symbol-observable';\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error('It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error('You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected the listener to be a function.');\n    }\n\n    if (isDispatching) {\n      throw new Error('You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api-reference/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error('You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api-reference/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing what changed. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUndefinedStateErrorMessage(key, action) {\n  var actionType = action && action.type;\n  var actionDescription = actionType && \"action \\\"\" + String(actionType) + \"\\\"\" || 'an action';\n  return \"Given \" + actionDescription + \", reducer \\\"\" + key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\";\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + {}.toString.call(inputState).match(/\\s([a-z|A-Z]+)/)[1] + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle \" + ActionTypes.INIT + \" or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var errorMessage = getUndefinedStateErrorMessage(_key, action);\n        throw new Error(errorMessage);\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(\"bindActionCreators expected an object or a function, instead received \" + (actionCreators === null ? 'null' : typeof actionCreators) + \". \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    keys.push.apply(keys, Object.getOwnPropertySymbols(object));\n  }\n\n  if (enumerableOnly) keys = keys.filter(function (sym) {\n    return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n  });\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error('Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread2({}, store, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \"production\". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore };\n","function defaultEqualityCheck(a, b) {\n  return a === b;\n}\n\nfunction areArgumentsShallowlyEqual(equalityCheck, prev, next) {\n  if (prev === null || next === null || prev.length !== next.length) {\n    return false;\n  }\n\n  // Do this in a for loop (and not a `forEach` or an `every`) so we can determine equality as fast as possible.\n  var length = prev.length;\n  for (var i = 0; i < length; i++) {\n    if (!equalityCheck(prev[i], next[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function defaultMemoize(func) {\n  var equalityCheck = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultEqualityCheck;\n\n  var lastArgs = null;\n  var lastResult = null;\n  // we reference arguments instead of spreading them for performance reasons\n  return function () {\n    if (!areArgumentsShallowlyEqual(equalityCheck, lastArgs, arguments)) {\n      // apply arguments instead of spreading for performance.\n      lastResult = func.apply(null, arguments);\n    }\n\n    lastArgs = arguments;\n    return lastResult;\n  };\n}\n\nfunction getDependencies(funcs) {\n  var dependencies = Array.isArray(funcs[0]) ? funcs[0] : funcs;\n\n  if (!dependencies.every(function (dep) {\n    return typeof dep === 'function';\n  })) {\n    var dependencyTypes = dependencies.map(function (dep) {\n      return typeof dep;\n    }).join(', ');\n    throw new Error('Selector creators expect all input-selectors to be functions, ' + ('instead received the following types: [' + dependencyTypes + ']'));\n  }\n\n  return dependencies;\n}\n\nexport function createSelectorCreator(memoize) {\n  for (var _len = arguments.length, memoizeOptions = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    memoizeOptions[_key - 1] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, funcs = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      funcs[_key2] = arguments[_key2];\n    }\n\n    var recomputations = 0;\n    var resultFunc = funcs.pop();\n    var dependencies = getDependencies(funcs);\n\n    var memoizedResultFunc = memoize.apply(undefined, [function () {\n      recomputations++;\n      // apply arguments instead of spreading for performance.\n      return resultFunc.apply(null, arguments);\n    }].concat(memoizeOptions));\n\n    // If a selector is called with the exact same arguments we don't need to traverse our dependencies again.\n    var selector = memoize(function () {\n      var params = [];\n      var length = dependencies.length;\n\n      for (var i = 0; i < length; i++) {\n        // apply arguments instead of spreading and mutate a local list of params for performance.\n        params.push(dependencies[i].apply(null, arguments));\n      }\n\n      // apply arguments instead of spreading for performance.\n      return memoizedResultFunc.apply(null, params);\n    });\n\n    selector.resultFunc = resultFunc;\n    selector.dependencies = dependencies;\n    selector.recomputations = function () {\n      return recomputations;\n    };\n    selector.resetRecomputations = function () {\n      return recomputations = 0;\n    };\n    return selector;\n  };\n}\n\nexport var createSelector = createSelectorCreator(defaultMemoize);\n\nexport function createStructuredSelector(selectors) {\n  var selectorCreator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : createSelector;\n\n  if (typeof selectors !== 'object') {\n    throw new Error('createStructuredSelector expects first argument to be an object ' + ('where each property is a selector, instead received a ' + typeof selectors));\n  }\n  var objectKeys = Object.keys(selectors);\n  return selectorCreator(objectKeys.map(function (key) {\n    return selectors[key];\n  }), function () {\n    for (var _len3 = arguments.length, values = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      values[_key3] = arguments[_key3];\n    }\n\n    return values.reduce(function (composition, value, index) {\n      composition[objectKeys[index]] = value;\n      return composition;\n    }, {});\n  });\n}","function createThunkMiddleware(extraArgument) {\n  return function (_ref) {\n    var dispatch = _ref.dispatch,\n        getState = _ref.getState;\n    return function (next) {\n      return function (action) {\n        if (typeof action === 'function') {\n          return action(dispatch, getState, extraArgument);\n        }\n\n        return next(action);\n      };\n    };\n  };\n}\n\nvar thunk = createThunkMiddleware();\nthunk.withExtraArgument = createThunkMiddleware;\n\nexport default thunk;","import createNextState, { isDraft, current, isDraftable, enableES5 } from 'immer';\nexport { default as createNextState, current, freeze } from 'immer';\nimport { compose, combineReducers, applyMiddleware, createStore } from 'redux';\nexport * from 'redux';\nimport { createSelector } from 'reselect';\nexport { createSelector } from 'reselect';\nimport thunkMiddleware from 'redux-thunk';\n\n/**\r\n * \"Draft-Safe\" version of `reselect`'s `createSelector`:\r\n * If an `immer`-drafted object is passed into the resulting selector's first argument,\r\n * the selector will act on the current draft value, instead of returning a cached value\r\n * that might be possibly outdated if the draft has been modified since.\r\n * @public\r\n */\n\nvar createDraftSafeSelector = function createDraftSafeSelector() {\n  var selector = createSelector.apply(void 0, arguments);\n\n  var wrappedSelector = function wrappedSelector(value) {\n    for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      rest[_key - 1] = arguments[_key];\n    }\n\n    return selector.apply(void 0, [isDraft(value) ? current(value) : value].concat(rest));\n  };\n\n  return wrappedSelector;\n};\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !_isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\n/**\r\n * @public\r\n */\n\nvar composeWithDevTools = typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : function () {\n  if (arguments.length === 0) return undefined;\n  if (typeof arguments[0] === 'object') return compose;\n  return compose.apply(null, arguments);\n};\n\n/**\r\n * Returns true if the passed value is \"plain\" object, i.e. an object whose\r\n * protoype is the root `Object.prototype`. This includes objects created\r\n * using object literals, but not for instance for class instances.\r\n *\r\n * @param {any} value The value to inspect.\r\n * @returns {boolean} True if the argument appears to be a plain object.\r\n *\r\n * @public\r\n */\nfunction isPlainObject(value) {\n  if (typeof value !== 'object' || value === null) return false;\n  var proto = value;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(value) === proto;\n}\n\nfunction getTimeMeasureUtils(maxDelay, fnName) {\n  var elapsed = 0;\n  return {\n    measureTime: function measureTime(fn) {\n      var started = Date.now();\n\n      try {\n        return fn();\n      } finally {\n        var finished = Date.now();\n        elapsed += finished - started;\n      }\n    },\n    warnIfExceeded: function warnIfExceeded() {\n      if (elapsed > maxDelay) {\n        console.warn(fnName + \" took \" + elapsed + \"ms, which is more than the warning threshold of \" + maxDelay + \"ms. \\nIf your state or actions are very large, you may want to disable the middleware as it might cause too much of a slowdown in development mode. See https://redux-toolkit.js.org/api/getDefaultMiddleware for instructions.\\nIt is disabled in production builds, so you don't need to worry about that.\");\n      }\n    }\n  };\n}\n/**\r\n * @public\r\n */\n\nvar MiddlewareArray =\n/*#__PURE__*/\nfunction (_Array) {\n  _inheritsLoose(MiddlewareArray, _Array);\n\n  function MiddlewareArray() {\n    return _Array.apply(this, arguments) || this;\n  }\n\n  var _proto = MiddlewareArray.prototype;\n\n  _proto.concat = function concat() {\n    var _Array$prototype$conc;\n\n    for (var _len = arguments.length, arr = new Array(_len), _key = 0; _key < _len; _key++) {\n      arr[_key] = arguments[_key];\n    }\n\n    return _construct(MiddlewareArray, (_Array$prototype$conc = _Array.prototype.concat).call.apply(_Array$prototype$conc, [this].concat(arr)));\n  };\n\n  _proto.prepend = function prepend() {\n    for (var _len2 = arguments.length, arr = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      arr[_key2] = arguments[_key2];\n    }\n\n    if (arr.length === 1 && Array.isArray(arr[0])) {\n      return _construct(MiddlewareArray, arr[0].concat(this));\n    }\n\n    return _construct(MiddlewareArray, arr.concat(this));\n  };\n\n  return MiddlewareArray;\n}(\n/*#__PURE__*/\n_wrapNativeSuper(Array));\n\nvar isProduction = process.env.NODE_ENV === 'production';\nvar prefix = 'Invariant failed'; // Throw an error if the condition fails\n// Strip out error messages for production\n// > Not providing an inline default argument for message as the result is smaller\n\nfunction invariant(condition, message) {\n  if (condition) {\n    return;\n  } // Condition not passed\n  // In production we strip the message but still throw\n\n\n  if (isProduction) {\n    throw new Error(prefix);\n  } // When not in production we allow the message to pass through\n  // *This block will be removed in production builds*\n\n\n  throw new Error(prefix + \": \" + (message || ''));\n}\n\nfunction stringify(obj, serializer, indent, decycler) {\n  return JSON.stringify(obj, getSerialize(serializer, decycler), indent);\n}\n\nfunction getSerialize(serializer, decycler) {\n  var stack = [],\n      keys = [];\n  if (!decycler) decycler = function decycler(_, value) {\n    if (stack[0] === value) return '[Circular ~]';\n    return '[Circular ~.' + keys.slice(0, stack.indexOf(value)).join('.') + ']';\n  };\n  return function (key, value) {\n    if (stack.length > 0) {\n      var thisPos = stack.indexOf(this);\n      ~thisPos ? stack.splice(thisPos + 1) : stack.push(this);\n      ~thisPos ? keys.splice(thisPos, Infinity, key) : keys.push(key);\n      if (~stack.indexOf(value)) value = decycler.call(this, key, value);\n    } else stack.push(value);\n\n    return serializer == null ? value : serializer.call(this, key, value);\n  };\n}\n/**\r\n * The default `isImmutable` function.\r\n *\r\n * @public\r\n */\n\n\nfunction isImmutableDefault(value) {\n  return typeof value !== 'object' || value === null || typeof value === 'undefined';\n}\nfunction trackForMutations(isImmutable, ignorePaths, obj) {\n  var trackedProperties = trackProperties(isImmutable, ignorePaths, obj);\n  return {\n    detectMutations: function detectMutations() {\n      return _detectMutations(isImmutable, ignorePaths, trackedProperties, obj);\n    }\n  };\n}\n\nfunction trackProperties(isImmutable, ignorePaths, obj, path) {\n  if (ignorePaths === void 0) {\n    ignorePaths = [];\n  }\n\n  if (path === void 0) {\n    path = [];\n  }\n\n  var tracked = {\n    value: obj\n  };\n\n  if (!isImmutable(obj)) {\n    tracked.children = {};\n\n    for (var key in obj) {\n      var childPath = path.concat(key);\n\n      if (ignorePaths.length && ignorePaths.indexOf(childPath.join('.')) !== -1) {\n        continue;\n      }\n\n      tracked.children[key] = trackProperties(isImmutable, ignorePaths, obj[key], childPath);\n    }\n  }\n\n  return tracked;\n}\n\nfunction _detectMutations(isImmutable, ignorePaths, trackedProperty, obj, sameParentRef, path) {\n  if (ignorePaths === void 0) {\n    ignorePaths = [];\n  }\n\n  if (sameParentRef === void 0) {\n    sameParentRef = false;\n  }\n\n  if (path === void 0) {\n    path = [];\n  }\n\n  var prevObj = trackedProperty ? trackedProperty.value : undefined;\n  var sameRef = prevObj === obj;\n\n  if (sameParentRef && !sameRef && !Number.isNaN(obj)) {\n    return {\n      wasMutated: true,\n      path: path\n    };\n  }\n\n  if (isImmutable(prevObj) || isImmutable(obj)) {\n    return {\n      wasMutated: false\n    };\n  } // Gather all keys from prev (tracked) and after objs\n\n\n  var keysToDetect = {};\n  Object.keys(trackedProperty.children).forEach(function (key) {\n    keysToDetect[key] = true;\n  });\n  Object.keys(obj).forEach(function (key) {\n    keysToDetect[key] = true;\n  });\n  var keys = Object.keys(keysToDetect);\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var childPath = path.concat(key);\n\n    if (ignorePaths.length && ignorePaths.indexOf(childPath.join('.')) !== -1) {\n      continue;\n    }\n\n    var result = _detectMutations(isImmutable, ignorePaths, trackedProperty.children[key], obj[key], sameRef, childPath);\n\n    if (result.wasMutated) {\n      return result;\n    }\n  }\n\n  return {\n    wasMutated: false\n  };\n}\n/**\r\n * Creates a middleware that checks whether any state was mutated in between\r\n * dispatches or during a dispatch. If any mutations are detected, an error is\r\n * thrown.\r\n *\r\n * @param options Middleware options.\r\n *\r\n * @public\r\n */\n\n\nfunction createImmutableStateInvariantMiddleware(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  if (process.env.NODE_ENV === 'production') {\n    return function () {\n      return function (next) {\n        return function (action) {\n          return next(action);\n        };\n      };\n    };\n  }\n\n  var _options = options,\n      _options$isImmutable = _options.isImmutable,\n      isImmutable = _options$isImmutable === void 0 ? isImmutableDefault : _options$isImmutable,\n      ignoredPaths = _options.ignoredPaths,\n      _options$warnAfter = _options.warnAfter,\n      warnAfter = _options$warnAfter === void 0 ? 32 : _options$warnAfter,\n      ignore = _options.ignore; // Alias ignore->ignoredPaths, but prefer ignoredPaths if present\n\n  ignoredPaths = ignoredPaths || ignore;\n  var track = trackForMutations.bind(null, isImmutable, ignoredPaths);\n  return function (_ref) {\n    var getState = _ref.getState;\n    var state = getState();\n    var tracker = track(state);\n    var result;\n    return function (next) {\n      return function (action) {\n        var measureUtils = getTimeMeasureUtils(warnAfter, 'ImmutableStateInvariantMiddleware');\n        measureUtils.measureTime(function () {\n          state = getState();\n          result = tracker.detectMutations(); // Track before potentially not meeting the invariant\n\n          tracker = track(state);\n          !!result.wasMutated ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"A state mutation was detected between dispatches, in the path '\" + (result.path || []).join('.') + \"'.  This may cause incorrect behavior. (https://redux.js.org/troubleshooting#never-mutate-reducer-arguments)\") : invariant(false) : void 0;\n        });\n        var dispatchedAction = next(action);\n        measureUtils.measureTime(function () {\n          state = getState();\n          result = tracker.detectMutations(); // Track before potentially not meeting the invariant\n\n          tracker = track(state);\n          result.wasMutated && (!!result.wasMutated ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"A state mutation was detected inside a dispatch, in the path: \" + (result.path || []).join('.') + \". Take a look at the reducer(s) handling the action \" + stringify(action) + \". (https://redux.js.org/troubleshooting#never-mutate-reducer-arguments)\") : invariant(false) : void 0);\n        });\n        measureUtils.warnIfExceeded();\n        return dispatchedAction;\n      };\n    };\n  };\n}\n\n/**\r\n * Returns true if the passed value is \"plain\", i.e. a value that is either\r\n * directly JSON-serializable (boolean, number, string, array, plain object)\r\n * or `undefined`.\r\n *\r\n * @param val The value to check.\r\n *\r\n * @public\r\n */\n\nfunction isPlain(val) {\n  return typeof val === 'undefined' || val === null || typeof val === 'string' || typeof val === 'boolean' || typeof val === 'number' || Array.isArray(val) || isPlainObject(val);\n}\n/**\r\n * @public\r\n */\n\nfunction findNonSerializableValue(value, path, isSerializable, getEntries, ignoredPaths) {\n  if (path === void 0) {\n    path = [];\n  }\n\n  if (isSerializable === void 0) {\n    isSerializable = isPlain;\n  }\n\n  if (ignoredPaths === void 0) {\n    ignoredPaths = [];\n  }\n\n  var foundNestedSerializable;\n\n  if (!isSerializable(value)) {\n    return {\n      keyPath: path.join('.') || '<root>',\n      value: value\n    };\n  }\n\n  if (typeof value !== 'object' || value === null) {\n    return false;\n  }\n\n  var entries = getEntries != null ? getEntries(value) : Object.entries(value);\n  var hasIgnoredPaths = ignoredPaths.length > 0;\n\n  for (var _iterator = entries, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n    var _ref;\n\n    if (_isArray) {\n      if (_i >= _iterator.length) break;\n      _ref = _iterator[_i++];\n    } else {\n      _i = _iterator.next();\n      if (_i.done) break;\n      _ref = _i.value;\n    }\n\n    var _ref2 = _ref,\n        property = _ref2[0],\n        nestedValue = _ref2[1];\n    var nestedPath = path.concat(property);\n\n    if (hasIgnoredPaths && ignoredPaths.indexOf(nestedPath.join('.')) >= 0) {\n      continue;\n    }\n\n    if (!isSerializable(nestedValue)) {\n      return {\n        keyPath: nestedPath.join('.'),\n        value: nestedValue\n      };\n    }\n\n    if (typeof nestedValue === 'object') {\n      foundNestedSerializable = findNonSerializableValue(nestedValue, nestedPath, isSerializable, getEntries, ignoredPaths);\n\n      if (foundNestedSerializable) {\n        return foundNestedSerializable;\n      }\n    }\n  }\n\n  return false;\n}\n/**\r\n * Creates a middleware that, after every state change, checks if the new\r\n * state is serializable. If a non-serializable value is found within the\r\n * state, an error is printed to the console.\r\n *\r\n * @param options Middleware options.\r\n *\r\n * @public\r\n */\n\nfunction createSerializableStateInvariantMiddleware(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  if (process.env.NODE_ENV === 'production') {\n    return function () {\n      return function (next) {\n        return function (action) {\n          return next(action);\n        };\n      };\n    };\n  }\n\n  var _options = options,\n      _options$isSerializab = _options.isSerializable,\n      isSerializable = _options$isSerializab === void 0 ? isPlain : _options$isSerializab,\n      getEntries = _options.getEntries,\n      _options$ignoredActio = _options.ignoredActions,\n      ignoredActions = _options$ignoredActio === void 0 ? [] : _options$ignoredActio,\n      _options$ignoredActio2 = _options.ignoredActionPaths,\n      ignoredActionPaths = _options$ignoredActio2 === void 0 ? ['meta.arg'] : _options$ignoredActio2,\n      _options$ignoredPaths = _options.ignoredPaths,\n      ignoredPaths = _options$ignoredPaths === void 0 ? [] : _options$ignoredPaths,\n      _options$warnAfter = _options.warnAfter,\n      warnAfter = _options$warnAfter === void 0 ? 32 : _options$warnAfter;\n  return function (storeAPI) {\n    return function (next) {\n      return function (action) {\n        if (ignoredActions.length && ignoredActions.indexOf(action.type) !== -1) {\n          return next(action);\n        }\n\n        var measureUtils = getTimeMeasureUtils(warnAfter, 'SerializableStateInvariantMiddleware');\n        measureUtils.measureTime(function () {\n          var foundActionNonSerializableValue = findNonSerializableValue(action, [], isSerializable, getEntries, ignoredActionPaths);\n\n          if (foundActionNonSerializableValue) {\n            var keyPath = foundActionNonSerializableValue.keyPath,\n                value = foundActionNonSerializableValue.value;\n            console.error(\"A non-serializable value was detected in an action, in the path: `\" + keyPath + \"`. Value:\", value, '\\nTake a look at the logic that dispatched this action: ', action, '\\n(See https://redux.js.org/faq/actions#why-should-type-be-a-string-or-at-least-serializable-why-should-my-action-types-be-constants)', '\\n(To allow non-serializable values see: https://redux-toolkit.js.org/usage/usage-guide#working-with-non-serializable-data)');\n          }\n        });\n        var result = next(action);\n        measureUtils.measureTime(function () {\n          var state = storeAPI.getState();\n          var foundStateNonSerializableValue = findNonSerializableValue(state, [], isSerializable, getEntries, ignoredPaths);\n\n          if (foundStateNonSerializableValue) {\n            var keyPath = foundStateNonSerializableValue.keyPath,\n                value = foundStateNonSerializableValue.value;\n            console.error(\"A non-serializable value was detected in the state, in the path: `\" + keyPath + \"`. Value:\", value, \"\\nTake a look at the reducer(s) handling this action type: \" + action.type + \".\\n(See https://redux.js.org/faq/organizing-state#can-i-put-functions-promises-or-other-non-serializable-items-in-my-store-state)\");\n          }\n        });\n        measureUtils.warnIfExceeded();\n        return result;\n      };\n    };\n  };\n}\n\nfunction isBoolean(x) {\n  return typeof x === 'boolean';\n}\n\nfunction curryGetDefaultMiddleware() {\n  return function curriedGetDefaultMiddleware(options) {\n    return getDefaultMiddleware(options);\n  };\n}\n/**\r\n * Returns any array containing the default middleware installed by\r\n * `configureStore()`. Useful if you want to configure your store with a custom\r\n * `middleware` array but still keep the default set.\r\n *\r\n * @return The default middleware used by `configureStore()`.\r\n *\r\n * @public\r\n */\n\nfunction getDefaultMiddleware(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$thunk = _options.thunk,\n      thunk = _options$thunk === void 0 ? true : _options$thunk,\n      _options$immutableChe = _options.immutableCheck,\n      immutableCheck = _options$immutableChe === void 0 ? true : _options$immutableChe,\n      _options$serializable = _options.serializableCheck,\n      serializableCheck = _options$serializable === void 0 ? true : _options$serializable;\n  var middlewareArray = new MiddlewareArray();\n\n  if (thunk) {\n    if (isBoolean(thunk)) {\n      middlewareArray.push(thunkMiddleware);\n    } else {\n      middlewareArray.push(thunkMiddleware.withExtraArgument(thunk.extraArgument));\n    }\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (immutableCheck) {\n      /* PROD_START_REMOVE_UMD */\n      var immutableOptions = {};\n\n      if (!isBoolean(immutableCheck)) {\n        immutableOptions = immutableCheck;\n      }\n\n      middlewareArray.unshift(createImmutableStateInvariantMiddleware(immutableOptions));\n      /* PROD_STOP_REMOVE_UMD */\n    }\n\n    if (serializableCheck) {\n      var serializableOptions = {};\n\n      if (!isBoolean(serializableCheck)) {\n        serializableOptions = serializableCheck;\n      }\n\n      middlewareArray.push(createSerializableStateInvariantMiddleware(serializableOptions));\n    }\n  }\n\n  return middlewareArray;\n}\n\nvar IS_PRODUCTION = process.env.NODE_ENV === 'production';\n/**\r\n * A friendly abstraction over the standard Redux `createStore()` function.\r\n *\r\n * @param config The store configuration.\r\n * @returns A configured Redux store.\r\n *\r\n * @public\r\n */\n\nfunction configureStore(options) {\n  var curriedGetDefaultMiddleware = curryGetDefaultMiddleware();\n\n  var _ref = options || {},\n      _ref$reducer = _ref.reducer,\n      reducer = _ref$reducer === void 0 ? undefined : _ref$reducer,\n      _ref$middleware = _ref.middleware,\n      middleware = _ref$middleware === void 0 ? curriedGetDefaultMiddleware() : _ref$middleware,\n      _ref$devTools = _ref.devTools,\n      devTools = _ref$devTools === void 0 ? true : _ref$devTools,\n      _ref$preloadedState = _ref.preloadedState,\n      preloadedState = _ref$preloadedState === void 0 ? undefined : _ref$preloadedState,\n      _ref$enhancers = _ref.enhancers,\n      enhancers = _ref$enhancers === void 0 ? undefined : _ref$enhancers;\n\n  var rootReducer;\n\n  if (typeof reducer === 'function') {\n    rootReducer = reducer;\n  } else if (isPlainObject(reducer)) {\n    rootReducer = combineReducers(reducer);\n  } else {\n    throw new Error('\"reducer\" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');\n  }\n\n  var middlewareEnhancer = applyMiddleware.apply(void 0, typeof middleware === 'function' ? middleware(curriedGetDefaultMiddleware) : middleware);\n  var finalCompose = compose;\n\n  if (devTools) {\n    finalCompose = composeWithDevTools(_extends({\n      // Enable capture of stack traces for dispatched Redux actions\n      trace: !IS_PRODUCTION\n    }, typeof devTools === 'object' && devTools));\n  }\n\n  var storeEnhancers = [middlewareEnhancer];\n\n  if (Array.isArray(enhancers)) {\n    storeEnhancers = [middlewareEnhancer].concat(enhancers);\n  } else if (typeof enhancers === 'function') {\n    storeEnhancers = enhancers(storeEnhancers);\n  }\n\n  var composedEnhancer = finalCompose.apply(void 0, storeEnhancers);\n  return createStore(rootReducer, preloadedState, composedEnhancer);\n}\n\nfunction createAction(type, prepareAction) {\n  function actionCreator() {\n    if (prepareAction) {\n      var prepared = prepareAction.apply(void 0, arguments);\n\n      if (!prepared) {\n        throw new Error('prepareAction did not return an object');\n      }\n\n      return _extends({\n        type: type,\n        payload: prepared.payload\n      }, 'meta' in prepared && {\n        meta: prepared.meta\n      }, {}, 'error' in prepared && {\n        error: prepared.error\n      });\n    }\n\n    return {\n      type: type,\n      payload: arguments.length <= 0 ? undefined : arguments[0]\n    };\n  }\n\n  actionCreator.toString = function () {\n    return \"\" + type;\n  };\n\n  actionCreator.type = type;\n\n  actionCreator.match = function (action) {\n    return action.type === type;\n  };\n\n  return actionCreator;\n}\nfunction isFSA(action) {\n  return isPlainObject(action) && typeof action.type === 'string' && Object.keys(action).every(isValidKey);\n}\n\nfunction isValidKey(key) {\n  return ['type', 'payload', 'error', 'meta'].indexOf(key) > -1;\n}\n/**\r\n * Returns the action type of the actions created by the passed\r\n * `createAction()`-generated action creator (arbitrary action creators\r\n * are not supported).\r\n *\r\n * @param action The action creator whose action type to get.\r\n * @returns The action type used by the action creator.\r\n *\r\n * @public\r\n */\n\n\nfunction getType(actionCreator) {\n  return \"\" + actionCreator;\n}\n\nfunction executeReducerBuilderCallback(builderCallback) {\n  var actionsMap = {};\n  var actionMatchers = [];\n  var defaultCaseReducer;\n  var builder = {\n    addCase: function addCase(typeOrActionCreator, reducer) {\n      if (process.env.NODE_ENV !== 'production') {\n        /*\r\n         to keep the definition by the user in line with actual behavior,\r\n         we enforce `addCase` to always be called before calling `addMatcher`\r\n         as matching cases take precedence over matchers\r\n         */\n        if (actionMatchers.length > 0) {\n          throw new Error('`builder.addCase` should only be called before calling `builder.addMatcher`');\n        }\n\n        if (defaultCaseReducer) {\n          throw new Error('`builder.addCase` should only be called before calling `builder.addDefaultCase`');\n        }\n      }\n\n      var type = typeof typeOrActionCreator === 'string' ? typeOrActionCreator : typeOrActionCreator.type;\n\n      if (type in actionsMap) {\n        throw new Error('addCase cannot be called with two reducers for the same action type');\n      }\n\n      actionsMap[type] = reducer;\n      return builder;\n    },\n    addMatcher: function addMatcher(matcher, reducer) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (defaultCaseReducer) {\n          throw new Error('`builder.addMatcher` should only be called before calling `builder.addDefaultCase`');\n        }\n      }\n\n      actionMatchers.push({\n        matcher: matcher,\n        reducer: reducer\n      });\n      return builder;\n    },\n    addDefaultCase: function addDefaultCase(reducer) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (defaultCaseReducer) {\n          throw new Error('`builder.addDefaultCase` can only be called once');\n        }\n      }\n\n      defaultCaseReducer = reducer;\n      return builder;\n    }\n  };\n  builderCallback(builder);\n  return [actionsMap, actionMatchers, defaultCaseReducer];\n}\n\nfunction createReducer(initialState, mapOrBuilderCallback, actionMatchers, defaultCaseReducer) {\n  if (actionMatchers === void 0) {\n    actionMatchers = [];\n  }\n\n  var _ref = typeof mapOrBuilderCallback === 'function' ? executeReducerBuilderCallback(mapOrBuilderCallback) : [mapOrBuilderCallback, actionMatchers, defaultCaseReducer],\n      actionsMap = _ref[0],\n      finalActionMatchers = _ref[1],\n      finalDefaultCaseReducer = _ref[2];\n\n  return function (state, action) {\n    if (state === void 0) {\n      state = initialState;\n    }\n\n    var caseReducers = [actionsMap[action.type]].concat(finalActionMatchers.filter(function (_ref2) {\n      var matcher = _ref2.matcher;\n      return matcher(action);\n    }).map(function (_ref3) {\n      var reducer = _ref3.reducer;\n      return reducer;\n    }));\n\n    if (caseReducers.filter(function (cr) {\n      return !!cr;\n    }).length === 0) {\n      caseReducers = [finalDefaultCaseReducer];\n    }\n\n    return caseReducers.reduce(function (previousState, caseReducer) {\n      if (caseReducer) {\n        if (isDraft(previousState)) {\n          // If it's already a draft, we must already be inside a `createNextState` call,\n          // likely because this is being wrapped in `createReducer`, `createSlice`, or nested\n          // inside an existing draft. It's safe to just pass the draft to the mutator.\n          var draft = previousState; // We can assume this is already a draft\n\n          var result = caseReducer(draft, action);\n\n          if (typeof result === 'undefined') {\n            return previousState;\n          }\n\n          return result;\n        } else if (!isDraftable(previousState)) {\n          // If state is not draftable (ex: a primitive, such as 0), we want to directly\n          // return the caseReducer func and not wrap it with produce.\n          var _result = caseReducer(previousState, action);\n\n          if (typeof _result === 'undefined') {\n            if (previousState === null) {\n              return previousState;\n            }\n\n            throw Error('A case reducer on a non-draftable value must not return undefined');\n          }\n\n          return _result;\n        } else {\n          // @ts-ignore createNextState() produces an Immutable<Draft<S>> rather\n          // than an Immutable<S>, and TypeScript cannot find out how to reconcile\n          // these two types.\n          return createNextState(previousState, function (draft) {\n            return caseReducer(draft, action);\n          });\n        }\n      }\n\n      return previousState;\n    }, state);\n  };\n}\n\nfunction getType$1(slice, actionKey) {\n  return slice + \"/\" + actionKey;\n}\n/**\r\n * A function that accepts an initial state, an object full of reducer\r\n * functions, and a \"slice name\", and automatically generates\r\n * action creators and action types that correspond to the\r\n * reducers and state.\r\n *\r\n * The `reducer` argument is passed to `createReducer()`.\r\n *\r\n * @public\r\n */\n\n\nfunction createSlice(options) {\n  var name = options.name,\n      initialState = options.initialState;\n\n  if (!name) {\n    throw new Error('`name` is a required option for createSlice');\n  }\n\n  var reducers = options.reducers || {};\n\n  var _ref = typeof options.extraReducers === 'undefined' ? [] : typeof options.extraReducers === 'function' ? executeReducerBuilderCallback(options.extraReducers) : [options.extraReducers],\n      _ref$ = _ref[0],\n      extraReducers = _ref$ === void 0 ? {} : _ref$,\n      _ref$2 = _ref[1],\n      actionMatchers = _ref$2 === void 0 ? [] : _ref$2,\n      _ref$3 = _ref[2],\n      defaultCaseReducer = _ref$3 === void 0 ? undefined : _ref$3;\n\n  var reducerNames = Object.keys(reducers);\n  var sliceCaseReducersByName = {};\n  var sliceCaseReducersByType = {};\n  var actionCreators = {};\n  reducerNames.forEach(function (reducerName) {\n    var maybeReducerWithPrepare = reducers[reducerName];\n    var type = getType$1(name, reducerName);\n    var caseReducer;\n    var prepareCallback;\n\n    if ('reducer' in maybeReducerWithPrepare) {\n      caseReducer = maybeReducerWithPrepare.reducer;\n      prepareCallback = maybeReducerWithPrepare.prepare;\n    } else {\n      caseReducer = maybeReducerWithPrepare;\n    }\n\n    sliceCaseReducersByName[reducerName] = caseReducer;\n    sliceCaseReducersByType[type] = caseReducer;\n    actionCreators[reducerName] = prepareCallback ? createAction(type, prepareCallback) : createAction(type);\n  });\n\n  var finalCaseReducers = _extends({}, extraReducers, {}, sliceCaseReducersByType);\n\n  var reducer = createReducer(initialState, finalCaseReducers, actionMatchers, defaultCaseReducer);\n  return {\n    name: name,\n    reducer: reducer,\n    actions: actionCreators,\n    caseReducers: sliceCaseReducersByName\n  };\n}\n\nfunction getInitialEntityState() {\n  return {\n    ids: [],\n    entities: {}\n  };\n}\nfunction createInitialStateFactory() {\n  function getInitialState(additionalState) {\n    if (additionalState === void 0) {\n      additionalState = {};\n    }\n\n    return Object.assign(getInitialEntityState(), additionalState);\n  }\n\n  return {\n    getInitialState: getInitialState\n  };\n}\n\nfunction createSelectorsFactory() {\n  function getSelectors(selectState) {\n    var selectIds = function selectIds(state) {\n      return state.ids;\n    };\n\n    var selectEntities = function selectEntities(state) {\n      return state.entities;\n    };\n\n    var selectAll = createDraftSafeSelector(selectIds, selectEntities, function (ids, entities) {\n      return ids.map(function (id) {\n        return entities[id];\n      });\n    });\n\n    var selectId = function selectId(_, id) {\n      return id;\n    };\n\n    var selectById = function selectById(entities, id) {\n      return entities[id];\n    };\n\n    var selectTotal = createDraftSafeSelector(selectIds, function (ids) {\n      return ids.length;\n    });\n\n    if (!selectState) {\n      return {\n        selectIds: selectIds,\n        selectEntities: selectEntities,\n        selectAll: selectAll,\n        selectTotal: selectTotal,\n        selectById: createDraftSafeSelector(selectEntities, selectId, selectById)\n      };\n    }\n\n    var selectGlobalizedEntities = createDraftSafeSelector(selectState, selectEntities);\n    return {\n      selectIds: createDraftSafeSelector(selectState, selectIds),\n      selectEntities: selectGlobalizedEntities,\n      selectAll: createDraftSafeSelector(selectState, selectAll),\n      selectTotal: createDraftSafeSelector(selectState, selectTotal),\n      selectById: createDraftSafeSelector(selectGlobalizedEntities, selectId, selectById)\n    };\n  }\n\n  return {\n    getSelectors: getSelectors\n  };\n}\n\nfunction createSingleArgumentStateOperator(mutator) {\n  var operator = createStateOperator(function (_, state) {\n    return mutator(state);\n  });\n  return function operation(state) {\n    return operator(state, undefined);\n  };\n}\nfunction createStateOperator(mutator) {\n  return function operation(state, arg) {\n    function isPayloadActionArgument(arg) {\n      return isFSA(arg);\n    }\n\n    var runMutator = function runMutator(draft) {\n      if (isPayloadActionArgument(arg)) {\n        mutator(arg.payload, draft);\n      } else {\n        mutator(arg, draft);\n      }\n    };\n\n    if (isDraft(state)) {\n      // we must already be inside a `createNextState` call, likely because\n      // this is being wrapped in `createReducer` or `createSlice`.\n      // It's safe to just pass the draft to the mutator.\n      runMutator(state); // since it's a draft, we'll just return it\n\n      return state;\n    } else {\n      // @ts-ignore createNextState() produces an Immutable<Draft<S>> rather\n      // than an Immutable<S>, and TypeScript cannot find out how to reconcile\n      // these two types.\n      return createNextState(state, runMutator);\n    }\n  };\n}\n\nfunction selectIdValue(entity, selectId) {\n  var key = selectId(entity);\n\n  if (process.env.NODE_ENV !== 'production' && key === undefined) {\n    console.warn('The entity passed to the `selectId` implementation returned undefined.', 'You should probably provide your own `selectId` implementation.', 'The entity that was passed:', entity, 'The `selectId` implementation:', selectId.toString());\n  }\n\n  return key;\n}\n\nfunction createUnsortedStateAdapter(selectId) {\n  function addOneMutably(entity, state) {\n    var key = selectIdValue(entity, selectId);\n\n    if (key in state.entities) {\n      return;\n    }\n\n    state.ids.push(key);\n    state.entities[key] = entity;\n  }\n\n  function addManyMutably(entities, state) {\n    if (!Array.isArray(entities)) {\n      entities = Object.values(entities);\n    }\n\n    for (var _iterator = entities, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n      var _ref;\n\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref = _i.value;\n      }\n\n      var entity = _ref;\n      addOneMutably(entity, state);\n    }\n  }\n\n  function setAllMutably(entities, state) {\n    if (!Array.isArray(entities)) {\n      entities = Object.values(entities);\n    }\n\n    state.ids = [];\n    state.entities = {};\n    addManyMutably(entities, state);\n  }\n\n  function removeOneMutably(key, state) {\n    return removeManyMutably([key], state);\n  }\n\n  function removeManyMutably(keys, state) {\n    var didMutate = false;\n    keys.forEach(function (key) {\n      if (key in state.entities) {\n        delete state.entities[key];\n        didMutate = true;\n      }\n    });\n\n    if (didMutate) {\n      state.ids = state.ids.filter(function (id) {\n        return id in state.entities;\n      });\n    }\n  }\n\n  function removeAllMutably(state) {\n    Object.assign(state, {\n      ids: [],\n      entities: {}\n    });\n  }\n\n  function takeNewKey(keys, update, state) {\n    var original = state.entities[update.id];\n    var updated = Object.assign({}, original, update.changes);\n    var newKey = selectIdValue(updated, selectId);\n    var hasNewKey = newKey !== update.id;\n\n    if (hasNewKey) {\n      keys[update.id] = newKey;\n      delete state.entities[update.id];\n    }\n\n    state.entities[newKey] = updated;\n    return hasNewKey;\n  }\n\n  function updateOneMutably(update, state) {\n    return updateManyMutably([update], state);\n  }\n\n  function updateManyMutably(updates, state) {\n    var newKeys = {};\n    var updatesPerEntity = {};\n    updates.forEach(function (update) {\n      // Only apply updates to entities that currently exist\n      if (update.id in state.entities) {\n        // If there are multiple updates to one entity, merge them together\n        updatesPerEntity[update.id] = {\n          id: update.id,\n          // Spreads ignore falsy values, so this works even if there isn't\n          // an existing update already at this key\n          changes: _extends({}, updatesPerEntity[update.id] ? updatesPerEntity[update.id].changes : null, {}, update.changes)\n        };\n      }\n    });\n    updates = Object.values(updatesPerEntity);\n    var didMutateEntities = updates.length > 0;\n\n    if (didMutateEntities) {\n      var didMutateIds = updates.filter(function (update) {\n        return takeNewKey(newKeys, update, state);\n      }).length > 0;\n\n      if (didMutateIds) {\n        state.ids = state.ids.map(function (id) {\n          return newKeys[id] || id;\n        });\n      }\n    }\n  }\n\n  function upsertOneMutably(entity, state) {\n    return upsertManyMutably([entity], state);\n  }\n\n  function upsertManyMutably(entities, state) {\n    if (!Array.isArray(entities)) {\n      entities = Object.values(entities);\n    }\n\n    var added = [];\n    var updated = [];\n\n    for (var _iterator2 = entities, _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : _iterator2[Symbol.iterator]();;) {\n      var _ref2;\n\n      if (_isArray2) {\n        if (_i2 >= _iterator2.length) break;\n        _ref2 = _iterator2[_i2++];\n      } else {\n        _i2 = _iterator2.next();\n        if (_i2.done) break;\n        _ref2 = _i2.value;\n      }\n\n      var entity = _ref2;\n      var id = selectIdValue(entity, selectId);\n\n      if (id in state.entities) {\n        updated.push({\n          id: id,\n          changes: entity\n        });\n      } else {\n        added.push(entity);\n      }\n    }\n\n    updateManyMutably(updated, state);\n    addManyMutably(added, state);\n  }\n\n  return {\n    removeAll: createSingleArgumentStateOperator(removeAllMutably),\n    addOne: createStateOperator(addOneMutably),\n    addMany: createStateOperator(addManyMutably),\n    setAll: createStateOperator(setAllMutably),\n    updateOne: createStateOperator(updateOneMutably),\n    updateMany: createStateOperator(updateManyMutably),\n    upsertOne: createStateOperator(upsertOneMutably),\n    upsertMany: createStateOperator(upsertManyMutably),\n    removeOne: createStateOperator(removeOneMutably),\n    removeMany: createStateOperator(removeManyMutably)\n  };\n}\n\nfunction createSortedStateAdapter(selectId, sort) {\n  var _createUnsortedStateA = createUnsortedStateAdapter(selectId),\n      removeOne = _createUnsortedStateA.removeOne,\n      removeMany = _createUnsortedStateA.removeMany,\n      removeAll = _createUnsortedStateA.removeAll;\n\n  function addOneMutably(entity, state) {\n    return addManyMutably([entity], state);\n  }\n\n  function addManyMutably(newModels, state) {\n    if (!Array.isArray(newModels)) {\n      newModels = Object.values(newModels);\n    }\n\n    var models = newModels.filter(function (model) {\n      return !(selectIdValue(model, selectId) in state.entities);\n    });\n\n    if (models.length !== 0) {\n      merge(models, state);\n    }\n  }\n\n  function setAllMutably(models, state) {\n    if (!Array.isArray(models)) {\n      models = Object.values(models);\n    }\n\n    state.entities = {};\n    state.ids = [];\n    addManyMutably(models, state);\n  }\n\n  function updateOneMutably(update, state) {\n    return updateManyMutably([update], state);\n  }\n\n  function takeUpdatedModel(models, update, state) {\n    if (!(update.id in state.entities)) {\n      return false;\n    }\n\n    var original = state.entities[update.id];\n    var updated = Object.assign({}, original, update.changes);\n    var newKey = selectIdValue(updated, selectId);\n    delete state.entities[update.id];\n    models.push(updated);\n    return newKey !== update.id;\n  }\n\n  function updateManyMutably(updates, state) {\n    var models = [];\n    updates.forEach(function (update) {\n      return takeUpdatedModel(models, update, state);\n    });\n\n    if (models.length !== 0) {\n      merge(models, state);\n    }\n  }\n\n  function upsertOneMutably(entity, state) {\n    return upsertManyMutably([entity], state);\n  }\n\n  function upsertManyMutably(entities, state) {\n    if (!Array.isArray(entities)) {\n      entities = Object.values(entities);\n    }\n\n    var added = [];\n    var updated = [];\n\n    for (var _iterator = entities, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n      var _ref;\n\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref = _i.value;\n      }\n\n      var entity = _ref;\n      var id = selectIdValue(entity, selectId);\n\n      if (id in state.entities) {\n        updated.push({\n          id: id,\n          changes: entity\n        });\n      } else {\n        added.push(entity);\n      }\n    }\n\n    updateManyMutably(updated, state);\n    addManyMutably(added, state);\n  }\n\n  function areArraysEqual(a, b) {\n    if (a.length !== b.length) {\n      return false;\n    }\n\n    for (var i = 0; i < a.length && i < b.length; i++) {\n      if (a[i] === b[i]) {\n        continue;\n      }\n\n      return false;\n    }\n\n    return true;\n  }\n\n  function merge(models, state) {\n    models.sort(sort); // Insert/overwrite all new/updated\n\n    models.forEach(function (model) {\n      state.entities[selectId(model)] = model;\n    });\n    var allEntities = Object.values(state.entities);\n    allEntities.sort(sort);\n    var newSortedIds = allEntities.map(selectId);\n    var ids = state.ids;\n\n    if (!areArraysEqual(ids, newSortedIds)) {\n      state.ids = newSortedIds;\n    }\n  }\n\n  return {\n    removeOne: removeOne,\n    removeMany: removeMany,\n    removeAll: removeAll,\n    addOne: createStateOperator(addOneMutably),\n    updateOne: createStateOperator(updateOneMutably),\n    upsertOne: createStateOperator(upsertOneMutably),\n    setAll: createStateOperator(setAllMutably),\n    addMany: createStateOperator(addManyMutably),\n    updateMany: createStateOperator(updateManyMutably),\n    upsertMany: createStateOperator(upsertManyMutably)\n  };\n}\n\n/**\r\n *\r\n * @param options\r\n *\r\n * @public\r\n */\n\nfunction createEntityAdapter(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _sortComparer$selectI = _extends({\n    sortComparer: false,\n    selectId: function selectId(instance) {\n      return instance.id;\n    }\n  }, options),\n      selectId = _sortComparer$selectI.selectId,\n      sortComparer = _sortComparer$selectI.sortComparer;\n\n  var stateFactory = createInitialStateFactory();\n  var selectorsFactory = createSelectorsFactory();\n  var stateAdapter = sortComparer ? createSortedStateAdapter(selectId, sortComparer) : createUnsortedStateAdapter(selectId);\n  return _extends({\n    selectId: selectId,\n    sortComparer: sortComparer\n  }, stateFactory, {}, selectorsFactory, {}, stateAdapter);\n}\n\n// A type of promise-like that resolves synchronously and supports only one observer\n\nconst _iteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\"))) : \"@@iterator\";\n\nconst _asyncIteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\"))) : \"@@asyncIterator\";\n\n// Asynchronously call a function and send errors to recovery continuation\nfunction _catch(body, recover) {\n\ttry {\n\t\tvar result = body();\n\t} catch(e) {\n\t\treturn recover(e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(void 0, recover);\n\t}\n\treturn result;\n}\n\n// Borrowed from https://github.com/ai/nanoid/blob/3.0.2/non-secure/index.js\n// This alphabet uses `A-Za-z0-9_-` symbols. A genetic algorithm helped\n// optimize the gzip compression for this alphabet.\nvar urlAlphabet = 'ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW';\n/**\r\n *\r\n * @public\r\n */\n\nvar nanoid = function nanoid(size) {\n  if (size === void 0) {\n    size = 21;\n  }\n\n  var id = ''; // A compact alternative for `for (var i = 0; i < step; i++)`.\n\n  var i = size;\n\n  while (i--) {\n    // `| 0` is more compact and faster than `Math.floor()`.\n    id += urlAlphabet[Math.random() * 64 | 0];\n  }\n\n  return id;\n};\n\nvar commonProperties = ['name', 'message', 'stack', 'code'];\n\nvar RejectWithValue = function RejectWithValue(payload) {\n  this.payload = payload;\n  this.name = 'RejectWithValue';\n  this.message = 'Rejected';\n}; // Reworked from https://github.com/sindresorhus/serialize-error\n\n\nvar miniSerializeError = function miniSerializeError(value) {\n  if (typeof value === 'object' && value !== null) {\n    var simpleError = {};\n\n    for (var _iterator = commonProperties, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n      var _ref;\n\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref = _i.value;\n      }\n\n      var property = _ref;\n\n      if (typeof value[property] === 'string') {\n        simpleError[property] = value[property];\n      }\n    }\n\n    return simpleError;\n  }\n\n  return {\n    message: String(value)\n  };\n};\n/**\r\n *\r\n * @param typePrefix\r\n * @param payloadCreator\r\n * @param options\r\n *\r\n * @public\r\n */\n\nfunction createAsyncThunk(typePrefix, payloadCreator, options) {\n  var fulfilled = createAction(typePrefix + '/fulfilled', function (result, requestId, arg) {\n    return {\n      payload: result,\n      meta: {\n        arg: arg,\n        requestId: requestId,\n        requestStatus: 'fulfilled'\n      }\n    };\n  });\n  var pending = createAction(typePrefix + '/pending', function (requestId, arg) {\n    return {\n      payload: undefined,\n      meta: {\n        arg: arg,\n        requestId: requestId,\n        requestStatus: 'pending'\n      }\n    };\n  });\n  var rejected = createAction(typePrefix + '/rejected', function (error, requestId, arg) {\n    var rejectedWithValue = error instanceof RejectWithValue;\n    var aborted = !!error && error.name === 'AbortError';\n    var condition = !!error && error.name === 'ConditionError';\n    return {\n      payload: error instanceof RejectWithValue ? error.payload : undefined,\n      error: (options && options.serializeError || miniSerializeError)(error || 'Rejected'),\n      meta: {\n        arg: arg,\n        requestId: requestId,\n        rejectedWithValue: rejectedWithValue,\n        requestStatus: 'rejected',\n        aborted: aborted,\n        condition: condition\n      }\n    };\n  });\n  var displayedWarning = false;\n  var AC = typeof AbortController !== 'undefined' ? AbortController :\n  /*#__PURE__*/\n  function () {\n    function _class() {\n      this.signal = {\n        aborted: false,\n        addEventListener: function addEventListener() {},\n        dispatchEvent: function dispatchEvent() {\n          return false;\n        },\n        onabort: function onabort() {},\n        removeEventListener: function removeEventListener() {}\n      };\n    }\n\n    var _proto = _class.prototype;\n\n    _proto.abort = function abort() {\n      if (process.env.NODE_ENV !== 'production') {\n        if (!displayedWarning) {\n          displayedWarning = true;\n          console.info(\"This platform does not implement AbortController. \\nIf you want to use the AbortController to react to `abort` events, please consider importing a polyfill like 'abortcontroller-polyfill/dist/abortcontroller-polyfill-only'.\");\n        }\n      }\n    };\n\n    return _class;\n  }();\n\n  function actionCreator(arg) {\n    return function (dispatch, getState, extra) {\n      var requestId = nanoid();\n      var abortController = new AC();\n      var abortReason;\n      var abortedPromise = new Promise(function (_, reject) {\n        return abortController.signal.addEventListener('abort', function () {\n          return reject({\n            name: 'AbortError',\n            message: abortReason || 'Aborted'\n          });\n        });\n      });\n      var started = false;\n\n      function abort(reason) {\n        if (started) {\n          abortReason = reason;\n          abortController.abort();\n        }\n      }\n\n      var promise = function () {\n        try {\n          var _temp3 = function _temp3(_result) {\n            if (_exit2) return _result;\n            // We dispatch the result action _after_ the catch, to avoid having any errors\n            // here get swallowed by the try/catch block,\n            // per https://twitter.com/dan_abramov/status/770914221638942720\n            // and https://redux-toolkit.js.org/tutorials/advanced-tutorial#async-error-handling-logic-in-thunks\n            var skipDispatch = options && !options.dispatchConditionRejection && rejected.match(finalAction) && finalAction.meta.condition;\n\n            if (!skipDispatch) {\n              dispatch(finalAction);\n            }\n\n            return finalAction;\n          };\n\n          var _exit2 = false;\n          var finalAction;\n\n          var _temp4 = _catch(function () {\n            if (options && options.condition && options.condition(arg, {\n              getState: getState,\n              extra: extra\n            }) === false) {\n              // eslint-disable-next-line no-throw-literal\n              throw {\n                name: 'ConditionError',\n                message: 'Aborted due to condition callback returning false.'\n              };\n            }\n\n            started = true;\n            dispatch(pending(requestId, arg));\n            return Promise.resolve(Promise.race([abortedPromise, Promise.resolve(payloadCreator(arg, {\n              dispatch: dispatch,\n              getState: getState,\n              extra: extra,\n              requestId: requestId,\n              signal: abortController.signal,\n              rejectWithValue: function rejectWithValue(value) {\n                return new RejectWithValue(value);\n              }\n            })).then(function (result) {\n              if (result instanceof RejectWithValue) {\n                return rejected(result, requestId, arg);\n              }\n\n              return fulfilled(result, requestId, arg);\n            })])).then(function (_Promise$race) {\n              finalAction = _Promise$race;\n            });\n          }, function (err) {\n            finalAction = rejected(err, requestId, arg);\n          });\n\n          return Promise.resolve(_temp4 && _temp4.then ? _temp4.then(_temp3) : _temp3(_temp4));\n        } catch (e) {\n          return Promise.reject(e);\n        }\n      }();\n\n      return Object.assign(promise, {\n        abort: abort,\n        requestId: requestId,\n        arg: arg\n      });\n    };\n  }\n\n  return Object.assign(actionCreator, {\n    pending: pending,\n    rejected: rejected,\n    fulfilled: fulfilled,\n    typePrefix: typePrefix\n  });\n}\n/**\r\n * @public\r\n */\n\nfunction unwrapResult(action) {\n  if (action.meta && action.meta.rejectedWithValue) {\n    throw action.payload;\n  }\n\n  if (action.error) {\n    throw action.error;\n  }\n\n  return action.payload;\n}\n\nvar hasMatchFunction = function hasMatchFunction(v) {\n  return v && typeof v.match === 'function';\n};\n\nvar matches = function matches(matcher, action) {\n  if (hasMatchFunction(matcher)) {\n    return matcher.match(action);\n  } else {\n    return matcher(action);\n  }\n};\n/**\r\n * A higher-order function that returns a function that may be used to check\r\n * whether an action matches any one of the supplied type guards or action\r\n * creators.\r\n *\r\n * @param matchers The type guards or action creators to match against.\r\n *\r\n * @public\r\n */\n\n\nfunction isAnyOf() {\n  for (var _len = arguments.length, matchers = new Array(_len), _key = 0; _key < _len; _key++) {\n    matchers[_key] = arguments[_key];\n  }\n\n  return function (action) {\n    return matchers.some(function (matcher) {\n      return matches(matcher, action);\n    });\n  };\n}\n/**\r\n * A higher-order function that returns a function that may be used to check\r\n * whether an action matches all of the supplied type guards or action\r\n * creators.\r\n *\r\n * @param matchers The type guards or action creators to match against.\r\n *\r\n * @public\r\n */\n\nfunction isAllOf() {\n  for (var _len2 = arguments.length, matchers = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    matchers[_key2] = arguments[_key2];\n  }\n\n  return function (action) {\n    return matchers.every(function (matcher) {\n      return matches(matcher, action);\n    });\n  };\n}\n/**\r\n * @param action A redux action\r\n * @param validStatus An array of valid meta.requestStatus values\r\n *\r\n * @internal\r\n */\n\nfunction hasExpectedRequestMetadata(action, validStatus) {\n  if (!action || !action.meta) return false;\n  var hasValidRequestId = typeof action.meta.requestId === 'string';\n  var hasValidRequestStatus = validStatus.indexOf(action.meta.requestStatus) > -1;\n  return hasValidRequestId && hasValidRequestStatus;\n}\n\nfunction isAsyncThunkArray(a) {\n  return typeof a[0] === 'function' && 'pending' in a[0] && 'fulfilled' in a[0] && 'rejected' in a[0];\n}\n\nfunction isPending() {\n  for (var _len3 = arguments.length, asyncThunks = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n    asyncThunks[_key3] = arguments[_key3];\n  }\n\n  if (asyncThunks.length === 0) {\n    return function (action) {\n      return hasExpectedRequestMetadata(action, ['pending']);\n    };\n  }\n\n  if (!isAsyncThunkArray(asyncThunks)) {\n    return isPending()(asyncThunks[0]);\n  }\n\n  return function (action) {\n    // note: this type will be correct because we have at least 1 asyncThunk\n    var matchers = asyncThunks.map(function (asyncThunk) {\n      return asyncThunk.pending;\n    });\n    var combinedMatcher = isAnyOf.apply(void 0, matchers);\n    return combinedMatcher(action);\n  };\n}\nfunction isRejected() {\n  for (var _len4 = arguments.length, asyncThunks = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n    asyncThunks[_key4] = arguments[_key4];\n  }\n\n  if (asyncThunks.length === 0) {\n    return function (action) {\n      return hasExpectedRequestMetadata(action, ['rejected']);\n    };\n  }\n\n  if (!isAsyncThunkArray(asyncThunks)) {\n    return isRejected()(asyncThunks[0]);\n  }\n\n  return function (action) {\n    // note: this type will be correct because we have at least 1 asyncThunk\n    var matchers = asyncThunks.map(function (asyncThunk) {\n      return asyncThunk.rejected;\n    });\n    var combinedMatcher = isAnyOf.apply(void 0, matchers);\n    return combinedMatcher(action);\n  };\n}\nfunction isRejectedWithValue() {\n  for (var _len5 = arguments.length, asyncThunks = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n    asyncThunks[_key5] = arguments[_key5];\n  }\n\n  var hasFlag = function hasFlag(action) {\n    return action && action.meta && action.meta.rejectedWithValue;\n  };\n\n  if (asyncThunks.length === 0) {\n    return function (action) {\n      var combinedMatcher = isAllOf(isRejected.apply(void 0, asyncThunks), hasFlag);\n      return combinedMatcher(action);\n    };\n  }\n\n  if (!isAsyncThunkArray(asyncThunks)) {\n    return isRejectedWithValue()(asyncThunks[0]);\n  }\n\n  return function (action) {\n    var combinedMatcher = isAllOf(isRejected.apply(void 0, asyncThunks), hasFlag);\n    return combinedMatcher(action);\n  };\n}\nfunction isFulfilled() {\n  for (var _len6 = arguments.length, asyncThunks = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n    asyncThunks[_key6] = arguments[_key6];\n  }\n\n  if (asyncThunks.length === 0) {\n    return function (action) {\n      return hasExpectedRequestMetadata(action, ['fulfilled']);\n    };\n  }\n\n  if (!isAsyncThunkArray(asyncThunks)) {\n    return isFulfilled()(asyncThunks[0]);\n  }\n\n  return function (action) {\n    // note: this type will be correct because we have at least 1 asyncThunk\n    var matchers = asyncThunks.map(function (asyncThunk) {\n      return asyncThunk.fulfilled;\n    });\n    var combinedMatcher = isAnyOf.apply(void 0, matchers);\n    return combinedMatcher(action);\n  };\n}\nfunction isAsyncThunkAction() {\n  for (var _len7 = arguments.length, asyncThunks = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n    asyncThunks[_key7] = arguments[_key7];\n  }\n\n  if (asyncThunks.length === 0) {\n    return function (action) {\n      return hasExpectedRequestMetadata(action, ['pending', 'fulfilled', 'rejected']);\n    };\n  }\n\n  if (!isAsyncThunkArray(asyncThunks)) {\n    return isAsyncThunkAction()(asyncThunks[0]);\n  }\n\n  return function (action) {\n    // note: this type will be correct because we have at least 1 asyncThunk\n    var matchers = [];\n\n    for (var _iterator = asyncThunks, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n      var _ref;\n\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref = _i.value;\n      }\n\n      var asyncThunk = _ref;\n      matchers.push(asyncThunk.pending, asyncThunk.rejected, asyncThunk.fulfilled);\n    }\n\n    var combinedMatcher = isAnyOf.apply(void 0, matchers);\n    return combinedMatcher(action);\n  };\n}\n\n// we assume RTK will be used with React Native and other Proxy-less\n// environments.  In addition, that's how Immer 4 behaved, and since\n// we want to ship this in an RTK minor, we should keep the same behavior.\n\nenableES5();\n\nexport { MiddlewareArray, configureStore, createAction, createAsyncThunk, createDraftSafeSelector, createEntityAdapter, createImmutableStateInvariantMiddleware, createReducer, createSerializableStateInvariantMiddleware, createSlice, findNonSerializableValue, getDefaultMiddleware, getType, isAllOf, isAnyOf, isAsyncThunkAction, isFulfilled, isImmutableDefault, isPending, isPlain, isPlainObject, isRejected, isRejectedWithValue, nanoid, unwrapResult };\n//# sourceMappingURL=redux-toolkit.esm.js.map\n","import { CableCarActionFilter } from './cableCar'\nimport { Action } from '@reduxjs/toolkit'\n\nconst matchPrefix = (str1: string, str2: string) =>\n    String(str1).slice(0, str2.length) === str2\n\nexport const getPermittedActionsFn = (\n    opt: string | RegExp | CableCarActionFilter | (string | RegExp)[]\n): CableCarActionFilter => {\n    // if permitted actions option is a string value (prefix)\n    if (typeof opt === 'string') {\n        return (action: Action) => matchPrefix(String(action.type), opt)\n    }\n\n    // if permitted actions option is a list of string values (prefixes) or RegExp\n    if (Array.isArray(opt)) {\n        return (action: Action) =>\n            opt.some((val) => {\n                if (typeof val === 'string') {\n                    return matchPrefix(String(action.type), val)\n                }\n                if (val instanceof RegExp) {\n                    return String(action.type).match(val) != null\n                }\n            })\n    }\n\n    // if permitted actions option is a regular expression\n    if (opt instanceof RegExp) {\n        return (action: Action) => String(action.type).match(opt) != null\n    }\n\n    // if permitted actions option is a filter function\n    if (typeof opt === 'function') {\n        return (action: Action) => opt(action)\n    }\n\n    // handle errors\n    throw new TypeError(\n        `CableCar: 'permittedActions' option is not formatted correctly (string|string[]|RegExp|function)`\n    )\n}\n","import {\n    createAction,\n    Action,\n    MiddlewareAPI,\n    Dispatch,\n    AnyAction,\n    Store,\n} from '@reduxjs/toolkit'\nimport { getPermittedActionsFn } from './helpers'\n\nconst ACTION_META_FLAG = '__cablecar__'\nconst ACTION_META_CHANNEL_FLAG = 'channel'\nconst ACTION_PREFIX = 'redux-cablecar'\nconst DEFAULT_PERMITTED_ACTIONS_PREFIX = 'RAILS'\n\n/* ActionFilter Type Definition */\nexport type CableCarStore = MiddlewareAPI<Dispatch<AnyAction>, any>\nexport type CableCarActionFilter = (action: any) => boolean\n// export type ActionWithMeta = Action & { meta: any }\nexport type CableCarAction = Action & {\n    meta: { __cablecar__: boolean; __cablecarChannel__: string }\n}\n\n/* CableCarOptions Interface */\nexport interface CableCarOptions {\n    params?: any\n    matchChannel?: boolean\n    permittedActions?:\n        | string\n        | RegExp\n        | CableCarActionFilter\n        | (string | RegExp)[]\n    silent?: boolean\n    // callbacks\n    initialized?: () => void\n    connected?: () => void\n    disconnected?: () => void\n    received?: (msg: any) => void\n    rejected?: () => void\n}\n\n/* CableCar Class */\nexport default class CableCar {\n    consumer: any\n    store: Store\n    channel: string\n\n    active: boolean = false\n    connected: boolean = false\n    subscription: any\n\n    private _options: CableCarOptions = {}\n    private _permittedActionFn: CableCarActionFilter = () => true\n    private _destroyCallback\n\n    get options() {\n        return this._options\n    }\n\n    set options(opts: CableCarOptions) {\n        // get permitted actions function if option passed in\n        if (opts.permittedActions !== undefined) {\n            this._permittedActionFn = getPermittedActionsFn(\n                opts.permittedActions\n            )\n\n            // otherwise use default\n        } else {\n            this._permittedActionFn = getPermittedActionsFn(\n                DEFAULT_PERMITTED_ACTIONS_PREFIX\n            )\n        }\n\n        // set default options\n        const options: CableCarOptions = {\n            params: opts.params || {},\n            silent: opts.silent ? true : false,\n            matchChannel: opts.matchChannel ? true : false,\n        }\n\n        // set optional callbacks\n        if (opts.initialized) options.initialized = opts.initialized\n        if (opts.connected) options.connected = opts.connected\n        if (opts.disconnected) options.disconnected = opts.disconnected\n        if (opts.received) options.received = opts.received\n        if (opts.rejected) options.rejected = opts.rejected\n        this._options = Object.freeze(options)\n    }\n\n    constructor(\n        consumer: any,\n        store: Store,\n        channel: string,\n        options?: CableCarOptions,\n        destroyCallback?: () => void\n    ) {\n        this.consumer = consumer\n        this.store = store\n        this.channel = String(channel)\n        this.options = options || {}\n        this.subscription = this.init()\n        this._destroyCallback = destroyCallback\n    }\n\n    // public api\n\n    destroy() {\n        if (this.connected) this.subscription.unsubscribe()\n        if (this._destroyCallback) {\n            this._destroyCallback()\n            this._destroyCallback = undefined\n        }\n        this.active = false\n        this.connected = false\n    }\n\n    // call server method directly\n    perform(method: string, payload: any) {\n        this.isReady()\n        this.subscription.perform(method, payload)\n    }\n\n    // if action is valid, send to Rails via ActionCable Subscription\n    send(action: any) {\n        this.isReady()\n        this.subscription.send(action)\n    }\n\n    pause() {\n        this.active = false\n    }\n\n    resume() {\n        this.active = true\n    }\n\n    // public\n\n    permitsAction(action: AnyAction) {\n        // avoid recursively dispatching backend <=> frontend actions\n        let permitted = !(action.meta && action.meta[ACTION_META_FLAG])\n\n        // match channel if given\n        if (\n            this.options.matchChannel &&\n            permitted &&\n            action.meta &&\n            action.meta[ACTION_META_CHANNEL_FLAG] &&\n            action.meta[ACTION_META_CHANNEL_FLAG] != this.channel\n        )\n            return false\n\n        // use permitted function to filter valid backend actions\n        if (permitted) permitted = this._permittedActionFn(action)\n        return permitted\n    }\n\n    // private\n\n    init() {\n        const dispatch = (action: Action) => {\n            if (this.store && !this.options.silent) this.store.dispatch(action)\n        }\n        const createGenericAction = (actionType: string) => {\n            return createAction(actionType, () => ({\n                payload: {},\n                meta: {\n                    [ACTION_META_FLAG]: true,\n                    [ACTION_META_CHANNEL_FLAG]: this.channel,\n                },\n            }))()\n        }\n\n        return this.consumer.subscriptions.create(\n            {\n                channel: this.channel,\n                ...this.options.params,\n            },\n            {\n                initialized: () => {\n                    this.active = true\n                    dispatch(createGenericAction(`${ACTION_PREFIX}/INIT`))\n                    if (this.options.initialized) {\n                        this.options.initialized()\n                    }\n                },\n                connected: () => {\n                    this.connected = true\n                    dispatch(createGenericAction(`${ACTION_PREFIX}/CONNECTED`))\n                    if (this.options.connected) {\n                        this.options.connected()\n                    }\n                },\n                disconnected: () => {\n                    this.connected = false\n                    dispatch(\n                        createGenericAction(`${ACTION_PREFIX}/DISCONNECTED`)\n                    )\n                    if (this.options.disconnected) {\n                        this.options.disconnected()\n                    }\n                },\n                received: (action: CableCarAction | any) => {\n                    let { type, meta, payload, ...rest } = action\n                    let formattedAction = {\n                        payload: { ...payload, ...rest },\n                        meta: {\n                            ...meta,\n                            [ACTION_META_FLAG]: true,\n                            [ACTION_META_CHANNEL_FLAG]: this.channel,\n                        },\n                        type: type || `${ACTION_PREFIX}/RECEIVED`,\n                    }\n                    dispatch(formattedAction)\n                },\n                rejected: (err: any) => {\n                    this.active = false\n                    this.connected = false\n                    dispatch(createGenericAction(`${ACTION_PREFIX}/REJECTED`))\n                    if (this.options.rejected) {\n                        this.options.rejected()\n                    } else {\n                        console.error(\n                            `CableCar: connection rejected. (Channel: ${this.channel}) ${err}`\n                        )\n                    }\n                },\n            }\n        )\n    }\n\n    isReady() {\n        if (!this.connected)\n            throw new TypeError(\n                `CableCar channel: ${this.channel} is disconnected.`\n            )\n        if (!this.active)\n            throw new TypeError(`CableCar channel: ${this.channel} is paused.`)\n    }\n}\n","import CableCar from './cableCar'\nimport CableCarRoute from './cableCarRoute'\nimport { Middleware } from '@reduxjs/toolkit'\n\n/* CableCarMiddleware Class */\nexport default function createMiddleware(route: CableCarRoute): Middleware {\n    return (store) => (next) => (action) => {\n        // only look at active cable cars w/ matching permitted actions\n        const relevantCars = route.cars.filter(\n            (car) => car.active && car.permitsAction(action)\n        )\n        let serverOnlyAction = false\n\n        if (relevantCars.length) {\n            serverOnlyAction = relevantCars.reduce(\n                (oneWay: boolean, car: CableCar) => {\n                    const { meta } = action\n\n                    // if car is connected send action to server\n                    if (car.connected) {\n                        car.send(action)\n                        // if sent action is optimistic send thru to redux as well\n                        if (oneWay && meta?.isOptimistic) {\n                            oneWay = false\n                        }\n                    } else {\n                        // if a permitted action fails, optimism takes precedence\n                        if (meta?.isOptimistic || meta?.isOptimisticOnFail) {\n                            oneWay = false\n                        }\n\n                        console.error(\n                            `CableCar channel: ${car.channel} Dropped action.` +\n                                (oneWay\n                                    ? ''\n                                    : ' Action passed thru middleware to Redux (optimistic).'),\n                            action\n                        )\n                    }\n                    return oneWay\n                },\n                true\n            )\n        }\n\n        return serverOnlyAction ? store.getState() : next(action)\n    }\n}\n","import CableCarDispatcher from './cableCarDispatcher'\nimport CableCarRoute, { CableCarRouteOptions } from './cableCarRoute'\nimport CableCar, { CableCarOptions } from './cableCar'\nimport createMiddleware from './middleware'\nimport { Middleware, Store } from '@reduxjs/toolkit'\n\nexport type CableCarRouteApi = {\n    createMiddleware: () => Middleware\n    connect: (\n        store: Store,\n        channel: string,\n        options: CableCarOptions\n    ) => CableCarApi\n    allCars: () => CableCarApi[]\n    reset: () => void\n}\n\nexport type CableCarApi = {\n    destroy: () => void\n    pause: () => void\n    resume: () => void\n    perform: (method: string, action: any) => void\n    send: (action: any) => void\n}\n\nconst dispatcher = new CableCarDispatcher()\n\nexport function createCableCarRoute(\n    routeOptions: CableCarRouteOptions = {}\n): CableCarRouteApi {\n    const route = new CableCarRoute(routeOptions)\n    const consumer = dispatcher.consumerFor(route)\n\n    return {\n        createMiddleware: () => createMiddleware(route),\n        connect: (\n            store: Store,\n            channel: string,\n            options?: CableCarOptions\n        ): CableCarApi => {\n            const car = new CableCar(\n                consumer,\n                store,\n                channel,\n                options || {},\n                () => {\n                    route.removeCar(car)\n                }\n            )\n            route.addCar(car)\n            // public CableCar exposed functions\n            return publicCableCar(car)\n        },\n        allCars: () => route.cars.map(publicCableCar),\n        reset: () => {\n            route.cars = []\n        },\n    }\n}\n\nfunction publicCableCar(car: CableCar): CableCarApi {\n    return {\n        destroy: () => car.destroy(),\n        pause: () => car.pause(),\n        resume: () => car.resume(),\n        perform: (method: string, action: any) => car.perform(method, action),\n        send: (action: any) => car.send(action),\n    }\n}\n"],"sourceRoot":""}